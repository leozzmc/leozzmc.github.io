<!DOCTYPE html><html lang="zh-TW" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>ğŸ“‘ DMS_Troubleshooting ç­†è¨˜ | Kevin Liu's éƒ¨è½æ ¼ || Technical || Travel</title><meta name="author" content="Kevin Liu"><meta name="copyright" content="Kevin Liu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="2021å¹´åœ¨é¢è©¦AWSæ™‚åšçš„ç­†è¨˜ï¼Œä¸»è¦æ˜¯æ•´ç†å„ç¨®TroubleshootingçŸ¥è­˜ä»¥åŠåŸç†">
<meta property="og:type" content="article">
<meta property="og:title" content="ğŸ“‘ DMS_Troubleshooting ç­†è¨˜">
<meta property="og:url" content="https://leozzmc.github.io/posts/5728fae1.html">
<meta property="og:site_name" content="Kevin Liu&#39;s éƒ¨è½æ ¼ || Technical || Travel">
<meta property="og:description" content="2021å¹´åœ¨é¢è©¦AWSæ™‚åšçš„ç­†è¨˜ï¼Œä¸»è¦æ˜¯æ•´ç†å„ç¨®TroubleshootingçŸ¥è­˜ä»¥åŠåŸç†">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://leozzmc.github.io/img/me.jpg">
<meta property="article:published_time" content="2021-11-13T02:12:17.000Z">
<meta property="article:modified_time" content="2023-07-02T14:13:30.358Z">
<meta property="article:author" content="Kevin Liu">
<meta property="article:tag" content="Network">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://leozzmc.github.io/img/me.jpg"><link rel="shortcut icon" href="/img/kevin3.png"><link rel="canonical" href="https://leozzmc.github.io/posts/5728fae1.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//fonts.googleapis.com" crossorigin=""/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-T4SFRRLLZ0"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-T4SFRRLLZ0');
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=LXGW+WenKai+TC&amp;display=swap" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è©¢çš„å…§å®¹ï¼š${query}","hits_stats":"å…±æ‰¾åˆ° ${hits} ç¯‡æ–‡ç« "}},
  translate: {"defaultEncoding":3,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":600},
  copy: {
    success: 'è¤‡è£½æˆåŠŸ',
    error: 'è¤‡è£½éŒ¯èª¤',
    noSupport: 'ç€è¦½å™¨ä¸æ”¯æ´'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'å¤©',
  dateSuffix: {
    just: 'å‰›å‰›',
    min: 'åˆ†é˜å‰',
    hour: 'å°æ™‚å‰',
    day: 'å¤©å‰',
    month: 'å€‹æœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ğŸ“‘ DMS_Troubleshooting ç­†è¨˜',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-02 22:13:30'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/me.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">167</div></a><a href="/tags/"><div class="headline">æ¨™ç±¤</div><div class="length-num">111</div></a><a href="/categories/"><div class="headline">åˆ†é¡</div><div class="length-num">9</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é </span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> æ‰¾æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ­¸æª”</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ¨™ç±¤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†é¡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> éˆçµ</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-language"></i><span> èªè¨€:</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/en/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="/"><i class="fa-fw fa-c"></i><span> ä¸­æ–‡</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://i.imgur.com/b3n6aNl.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Kevin Liu's éƒ¨è½æ ¼ || Technical || Travel"><img class="site-icon" src="https://i.imgur.com/P19VCm0.png"/><span class="site-name">Kevin Liu's éƒ¨è½æ ¼ || Technical || Travel</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> æœå°‹</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é </span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> æ‰¾æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> æ­¸æª”</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ¨™ç±¤</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†é¡</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> éˆçµ</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-language"></i><span> èªè¨€:</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/en/"><i class="fa-fw fas fa-e"></i><span> English</span></a></li><li><a class="site-page child" href="/"><i class="fa-fw fa-c"></i><span> ä¸­æ–‡</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">ğŸ“‘ DMS_Troubleshooting ç­†è¨˜</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">ç™¼è¡¨æ–¼</span><time class="post-meta-date-created" datetime="2021-11-13T02:12:17.000Z" title="ç™¼è¡¨æ–¼ 2021-11-13 10:12:17">2021-11-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°æ–¼</span><time class="post-meta-date-updated" datetime="2023-07-02T14:13:30.358Z" title="æ›´æ–°æ–¼ 2023-07-02 22:13:30">2023-07-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/">å­¸ç¿’ç­†è¨˜</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/Troubleshooting/">Troubleshooting</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="ğŸ“‘ DMS_Troubleshooting ç­†è¨˜"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é–±è®€é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Network-Debug"><a href="#Network-Debug" class="headerlink" title="Network Debug"></a>Network Debug</h2><ul>
<li>è‹¥ä½ SSHä¸åˆ°Serverï¼Œä½ æœƒæ€éº¼åš?<ul>
<li>å…ˆPing Serverçœ‹é€šä¸é€š</li>
<li>è‹¥é‚„æ˜¯éŒ¯èª¤å‰‡æ˜¯æ ¹æ“šSSHé€£ç·šå‡ºç¾çš„éŒ¯èª¤è¨Šæ¯ä¾†åšæ•…éšœæ’é™¤</li>
<li><strong>Unable to open connection to example.com Host does not exist</strong><ul>
<li>æª¢æŸ¥æ˜¯å¦å¯é€é <code>ping</code> ä¾†å»è§£æç›®æ¨™serveråŸŸå</li>
<li>è‹¥ä½¿ç”¨hostnameå‰‡æ”¹ç”¨ipè©¦è©¦çœ‹(äº¤æ›¿è©¦è©¦çœ‹)</li>
</ul>
</li>
<li><strong>Connection timed out</strong>: clientè©¦åœ–èˆ‡SSH Serverå»ºç«‹network socketï¼Œä½†serveråœ¨æ™‚é–“å…§æ²’èƒ½å›æ‡‰<ul>
<li>æª¢æŸ¥æ˜¯å¦æ­£åœ¨ä½¿ç”¨Port 22ï¼Œæˆ–è‡ªå®šç¾©çš„portå£ä¾†é€²è¡Œé€£æ¥<ul>
<li><code>$ netstat -all</code></li>
</ul>
</li>
<li>æª¢æŸ¥firewallè¦å‰‡æ˜¯å¦æœ‰é˜»æ“‹ä¾†è‡ªç‰¹å®šipæˆ–port 22çš„é€²å…¥æµé‡<ul>
<li><code>$ iptables --list</code></li>
<li>çœ‹æ˜¯ä¸æ˜¯æœ‰è¨­å®š<strong>Drop</strong> method</li>
<li>æˆ–æ˜¯port 22 æ²’æœ‰è¢«åŠ é€²allow connectionå…§</li>
</ul>
</li>
</ul>
</li>
<li><strong>Connection Refused</strong>: è«‹æ±‚æ­£åœ¨è·¯ç”±åˆ°hostï¼Œä½†hostæ²’èƒ½æ¥æ”¶åˆ°è«‹æ±‚<ul>
<li>æª¢æŸ¥æ˜¯å¦æ­£åœ¨ä½¿ç”¨Port 22ï¼Œæˆ–è‡ªå®šç¾©çš„portå£ä¾†é€²è¡Œé€£æ¥</li>
<li>æª¢æŸ¥firewallè¦å‰‡æ˜¯å¦æœ‰é˜»æ“‹ä¾†è‡ªç‰¹å®šipæˆ–port 22çš„é€²å…¥æµé‡<ul>
<li>çœ‹æ˜¯ä¸æ˜¯æœ‰è¨­å®š<strong>Drop</strong> method</li>
<li>æˆ–æ˜¯port 22 æ²’æœ‰è¢«åŠ é€²allow connectionå…§</li>
<li>æª¢æŸ¥æœå‹™ç•¶å‰æ˜¯å¦æ­£åœ¨é‹è¡Œä¸¦ç¶å®šåˆ°é æœŸportä¸Š</li>
</ul>
</li>
</ul>
</li>
<li>å¦‚ä½•æª¢æŸ¥é˜²ç«ç‰†?<ul>
<li><code>iptable -nL</code></li>
<li><code>ufw status</code></li>
</ul>
</li>
<li>æª¢æŸ¥SSHç‹€æ…‹<ul>
<li>èˆŠç‰ˆæœ¬çš„OSå¯ä»¥ä½¿ç”¨ <code>service</code><ul>
<li><code>service ssh status</code></li>
<li>è‹¥çµæœæœ‰æ­£ç¢ºé¡¯ç¤ºprocess idå‰‡ä»£è¡¨æ­£ç¢ºé‹è¡Œ</li>
<li>è‹¥æ²’æœ‰é‹è¡Œå‰‡æœƒé¡¯ç¤ºï¼Œssh stop&#x2F;waiting ä¹‹é¡çš„è¨Šæ¯</li>
<li>å¯é€é <code>service ssh start</code> é–‹å•Ÿæœå‹™</li>
</ul>
</li>
<li>æ–°ç‰ˆæœ¬çš„OSå¯ä»¥ä½¿ç”¨ <code>systemctl</code><ul>
<li><code>systemctl status sshd</code></li>
<li>è‹¥æ­£ç¢ºé‹è¡Œï¼Œå‰‡æœƒé¡¯ç¤ºactiveæˆ–running</li>
<li>è‹¥æ²’å†é‹è¡Œå‰‡æœƒé¡¯ç¤ºinactive</li>
<li>å¯é€é <code>systemctl start sshd</code>ä¾†é–‹å•Ÿæœå‹™</li>
</ul>
</li>
</ul>
</li>
<li>æª¢æŸ¥SSH Service Port<ul>
<li>æœ‰å…©ç¨®æ–¹å¼æª¢æŸ¥SSHæ˜¯è·‘åœ¨å“ªå€‹portä¸Š<ul>
<li>ç¬¬ä¸€å€‹æ˜¯å»æŸ¥çœ‹ ssh è¨­å®šæª”<ul>
<li><code>grep Port /etc/ssh/sshd_config</code></li>
</ul>
</li>
<li>è‹¥ä½ çŸ¥é“sshæœå‹™æ­£åœ¨é‹è¡Œï¼Œå‰‡å¯é€é <code>ss</code>æŒ‡ä»¤æŸ¥çœ‹æ˜¯å¦è·‘åœ¨é æœŸçš„portä¸Š<ul>
<li><code>ss -plnt</code> &#x2F;&#x2F;æ˜¯å¾kernelä¸­queryå‡ºsocketè³‡è¨Š</li>
<li><code>netstat -plnt</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>å°è‡´SSHé€£ç·šå¤±æ•—çš„åŸå› å¯èƒ½æœƒæœ‰å“ªäº›?<ul>
<li><strong>sshå…¬é‘°æ²’æœ‰è¢«injectåˆ°Serverä¸Š</strong><ul>
<li>æˆ‘å€‘åœ¨æœ¬åœ°ç«¯ç”¢ç”Ÿssh key pairï¼Œä¸¦å¯èƒ½é€épassphaseä¿è­·ç§é‘°</li>
<li>å°‡sshå…¬é‘°æ³¨å…¥åˆ°é ç«¯serverä¸Šçš„ <strong>~&#x2F;.ssh&#x2F;authorized_keys</strong> è·¯å¾‘</li>
<li>è€Œæœ‰æ™‚å€™å¸¸æœƒè·³å‡º <strong>Permission denied (publickey)</strong> çš„éŒ¯èª¤è¨Šæ¯<ul>
<li>åŸå› ä¸€: è©²ç§é‘°æ²’æœ‰æ¬Šé™ç™»å…¥</li>
<li>åŸå› äºŒ: å…¬é‘°æ²’æœ‰æ­£ç¢ºè¢«æ”¾å…¥è·¯å¾‘æˆ–å…¬é‘°éºå¤±</li>
<li>åŸå› ä¸‰: æœ¬åœ° ssh å…¬é‘°å’Œç§é‘°æœªæ­£ç¢ºé…å°</li>
<li>åœ¨é€£æ¥ä¹‹å‰ï¼Œssh æœƒæª¢æŸ¥æˆ‘å€‘çš„å…¬é‘°å’Œç§é‘°æ˜¯å¦æ­£ç¢ºé…å°</li>
</ul>
</li>
<li>é è¨­è·¯å¾‘<ul>
<li><code>$ ssh-keygen</code></li>
<li>å…¬é‘°é è¨­æ”¾åœ¨ <code>/home/username/.ssh/id_rsa.pub</code></li>
<li>ç§é‘°é è¨­æ”¾åœ¨ <code>/home/username/.ssh/id_rsa</code></li>
</ul>
</li>
<li>è¦å¦‚ä½•å°‡å…¬é‘°æ³¨å…¥è‡³Serverè·¯å¾‘ä¸­? <ul>
<li><code>ssh-copy-id USER@HOST</code></li>
<li>é è¨­å°±æ˜¯æ”¾å…¥ <strong>~&#x2F;.ssh&#x2F;authorized_keys</strong></li>
</ul>
</li>
</ul>
</li>
<li><strong>é˜²ç«ç‰†å°è‡´ç„¡æ³•é€£ç·š</strong><ul>
<li>æª¢æŸ¥Policy</li>
</ul>
</li>
<li><strong>Host Key Check Fails</strong><br>  <img src="https://i.imgur.com/XSDQF9V.png"><br>  å‡ºç¾é¡ä¼¼é€™ç¨®éŒ¯èª¤è¨Šæ¯<br>  æ¯å€‹Serveréƒ½æœƒæœ‰Fingerprintï¼Œä¸åŒserveræˆ–serveré‡æ–°é…ç½®å‰‡fingerprintå‰‡ä¸åŒ<br>  ç•¶æˆåŠŸç™»å…¥ï¼Œå‰‡é›»è…¦æœƒä¿å­˜fingerprintä¾†ç‚ºä¸‹ä¸€æ¬¡é€£æ¥åšæ¯”è¼ƒï¼Œè‹¥fingerprintä¸åŒ¹é…å‰‡æœƒè·³å‡ºé€™ç¨®è­¦å‘Š<ul>
<li>å¦‚æœç¢ºå®šæœ‰é‡æ–°è¨­å®šserverå‰‡å¯ä»¥å¿½ç•¥é€™å€‹è­¦å‘Š</li>
<li>å¯ä»¥åœ¨ <strong>~&#x2F;.ssh&#x2F;known_hosts</strong> åˆªé™¤entryï¼Œæˆ–æ¸…ç©ºæ–‡ä»¶ï¼Œé€™å°‡æœƒé—œé–‰æ‰€æœ‰å¯†é‘°æª¢æŸ¥</li>
</ul>
</li>
<li><strong>Your SSH Key File Mode Issues</strong><ul>
<li>ä½œç‚ºä¿è­· SSH Keyæª”æ¡ˆçš„æ¬Šé™æ‡‰è©²è¦æ˜¯0600(Owner R+W)æˆ–0400(Owner R)<br>  <img src="https://i.imgur.com/F9O86LG.png"></li>
</ul>
</li>
</ul>
</li>
<li>SSHä¸­è¦å¦‚ä½•å•Ÿç”¨ç„¡å¯†ç¢¼èªè­‰?<ul>
<li>è‡³<code>/etc/ssh/sshd_config</code> ä¸­ä¿®æ”¹è¨­å®š  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PasswordAuthentication no</span><br><span class="line">PubkeyAuthentication yes</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>è¬›è§£ä¸€ä¸‹Pingè·ŸTracertæŒ‡ä»¤æ˜¯æ€éº¼é‹ä½œçš„?<br>  <img src="https://i.imgur.com/Kog8FV8.png"><ul>
<li>Ping: å‘ç‰¹å®šç›®æ¨™ç™¼é€ICMP Echo Requestä»¥ç¢ºèªå°ç›®çš„ç«¯çš„é€šè¨Šç‹€æ…‹<ul>
<li>å¯ä»¥æ ¹æ“špingè¿”å›çš„TTLå€¼ä¾†åˆ¤æ–·å°æ–¹æ‰€ä½¿ç”¨çš„æ“ä½œç³»çµ±åŠæ•¸æ“šåŒ…ç¶“éè·¯ç”±å™¨æ•¸é‡</li>
</ul>
</li>
<li>Tracert: å–„ç”¨å›æ‡‰é€¾æ™‚çš„éŒ¯èª¤ä»¥æŸ¥è©¢åˆ°ç›®çš„åœ°çš„è·¯å¾‘</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://www.361way.com/linux-mtu-jumbo-frames/4055.html">Linuxåº•ä¸‹è¦æ€éº¼ä¿®æ”¹MTUå€¼?</a></li>
<li>ç”šéº¼æ˜¯Jumbo Frame?<ul>
<li>ç‚ºæ¯”æ¨™æº–Ethernet Frameé‚„å¤§çš„Frameï¼Œæ¯”1518&#x2F;1522 bitå¤§çš„frame</li>
<li>åªèƒ½åœ¨full-duplexçš„ä¹™å¤ªç¶²è·¯ä¸­é‹è¡Œ</li>
<li>æ¨™æº–Ethernet IPè¨Šæ¯å¤§å°æ˜¯: 1500Bitï¼Œè‹¥åŒ…å«Ethernet Headerä»¥åŠFCS(6+6+2+4)æ˜¯1518bit</li>
<li>Jumbo frameæŒ‡çš„æ˜¯å…©å±¤å°è£ä¸‰å±¤IP Messageçš„å€¼å¤§æ–¼9000bitçš„Message</li>
<li>è‹¥ä½¿ç”¨ä¸€èˆ¬1500Bitçš„frameï¼Œframeè¶Šå°ï¼Œå‚³è¼¸å°åŒ…é‡è¶Šå¤§ï¼Œè¨ˆç®—é‡è¶Šå¤šï¼Œå‰‡:<ul>
<li>å¢åŠ Hostçš„è¨ˆç®—é‡ï¼Œæ¶ˆè€—CPUè³‡æº</li>
<li>å½±éŸ¿ç¶²è·¯å‚³è¼¸é€Ÿåº¦</li>
<li>æ‰€ä»¥åŠ å¤§frameå¯ä»¥é™ä½CPUè¨ˆç®—é‡ä¸¦åŠ å¿«å‚³è¼¸é€Ÿåº¦</li>
</ul>
</li>
</ul>
</li>
<li>å¦‚ä½•ä¿®æ”¹frameå¤§å°(å¦‚ä½•å‰µé€ Jumbo Frame?)<ul>
<li>ä¿®æ”¹MTU(Maximum Transmission Unit)å€¼ </li>
<li><ol>
<li><code>ifconfig $&#123;Interface&#125; mtu $&#123;SIZE&#125; up</code></li>
</ol>
</li>
<li>ex. <code>ifconfig eth1 mtu 9000 up</code></li>
<li>ä½†é€™æ¨£é‡å•Ÿéœ€è¦é‡æ–°è¨­å®š</li>
<li><ol start="2">
<li>ä¿®æ”¹configæª”æ¡ˆ</li>
</ol>
</li>
<li>Ubuntu&#x2F;Debianåº•ä¸‹æ˜¯åœ¨ &#x2F;etc&#x2F;network&#x2F;interfacesåº•ä¸‹</li>
<li>æ–°å¢ <code>mtu 9000</code></li>
<li>é‡å•Ÿæœå‹™ <code>/etc/init.d/network-manager restart</code></li>
<li><strong>ç¶“éäº¤æ›ç¶²è·¯è¨­å®šæ™‚ï¼Œåƒ…ä¿®æ”¹Hostç«¯çš„MTUå€¼ä¸å¤ªè¡Œï¼Œé‚„çºŒé‘°æª¢æŸ¥ç¶²è·¯è¨­å‚™æœ‰ç„¡å•Ÿç”¨jumbo framesåŠŸèƒ½</strong></li>
</ul>
</li>
<li>æ¸¬è©¦MTU<ul>
<li><code>ping -l 9000 -f &lt;domain&gt;</code></li>
<li>-f åƒæ•¸å‘Šè¨´ä½œæ¥­ç³»çµ±ä¸èƒ½ç§è‡ªæ›´æ”¹å°åŒ…å¤§å°</li>
</ul>
</li>
<li>è¬›è§£ä¸€ä¸‹Emailçš„é€šè¨ŠåŸç†<ul>
<li>ç•¶è¼¸å…¥Emailæ™‚ï¼Œâ€@â€å¾Œé¢å³ç‚ºDomain Name<blockquote>
<p><a target="_blank" rel="noopener" href="http://linux.vbird.org/linux_server/0380mail.php#whatmail_dns">http://linux.vbird.org/linux_server/0380mail.php#whatmail_dns</a><br><a target="_blank" rel="noopener" href="https://weils.net/blog/2017/04/19/how-email-works-dkim-all-in-one/">https://weils.net/blog/2017/04/19/how-email-works-dkim-all-in-one/</a><br><a target="_blank" rel="noopener" href="https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-connectivity-issues/">https://docs.digitalocean.com/support/how-to-troubleshoot-ssh-connectivity-issues/</a><br><a target="_blank" rel="noopener" href="https://www.linux.com/topic/networking/4-reasons-why-ssh-connection-fails/">https://www.linux.com/topic/networking/4-reasons-why-ssh-connection-fails/</a><br><a target="_blank" rel="noopener" href="https://help.skysilk.com/support/solutions/articles/9000150151-how-to-troubleshoot-ssh-connection-issues-using-vnc-console">https://help.skysilk.com/support/solutions/articles/9000150151-how-to-troubleshoot-ssh-connection-issues-using-vnc-console</a></p>
</blockquote>
</li>
</ul>
</li>
<li>DNSè¨­å®šå¤±æ•—æœƒæ€éº¼è§£æ±º?<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.digitalocean.com/community/tutorial_series/an-introduction-to-managing-dns">https://www.digitalocean.com/community/tutorial_series/an-introduction-to-managing-dns</a> </p>
</blockquote>
</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹HTTPå”å®šé‹ä½œåŸç†å—?<br>  <img src="https://i.imgur.com/kwU3Ay7.png"><ul>
<li>é€šå¸¸ç”±ä½¿ç”¨è€…é€éç€è¦½å™¨æˆ–çˆ¬èŸ²ä¾†å°Serverç«¯ç™¼å‡ºè«‹æ±‚</li>
<li>é‚£å…¶ä¸­æˆ‘å€‘æœƒç¨±é€™å€‹clientç‚ºUser Agentï¼Œä¸€å€‹ä»£ç†ç¨‹å¼</li>
<li>è€Œè«‹æ±‚çš„Serverä¸Šå¯èƒ½ä¹Ÿæœƒæœ‰ä¸€äº›åƒæ˜¯HTMLæª”æ¡ˆæˆ–åœ–åƒä¹‹é¡çš„è³‡æº</li>
<li>ç•¶HTTP Clientç™¼å‡ºè«‹æ±‚ï¼Œå»ºç«‹ä¸€å€‹åˆ°Serverç«¯æŒ‡å®šport(é è¨­æ˜¯80)çš„TCPé€£ç·š</li>
<li>å‰‡HTTP Serverå‰‡æœƒåœ¨é‚£å€‹portç›£è½clientçš„è«‹æ±‚</li>
<li>ä¸€æ—¦æ”¶åˆ°è«‹æ±‚ï¼ŒServeræœƒå‘Clientè¿”å›ä¸€å€‹ç‹€æ…‹ ex. â€œHTTP&#x2F;1.1 200 OKâ€ï¼Œä»¥åŠè¿”å›å…§å®¹æˆ–éŒ¯èª¤è¨Šæ¯ç­‰ç­‰è³‡è¨Š</li>
<li>HTTPåœ¨1.1ä¸­åŠ å…¥äº†ä¿æŒé€£ç·šçš„æ©Ÿåˆ¶ï¼Œä¸€å€‹é€£æ¥å¯ä»¥é‡è¤‡åœ¨å¤šå€‹è«‹æ±‚&#x2F;å›æ‡‰ä½¿ç”¨</li>
<li>å¯ä»¥æ¸›å°‘ç­‰å¾…æ™‚é–“</li>
</ul>
</li>
<li>é‚£HTTPSå‘¢?<ul>
<li>å°±æ˜¯åœ¨é€²è¡ŒHTTPé€£ç·šä¹‹å‰æœƒå…ˆé€²è¡ŒTLS&#x2F;SSL Handshake</li>
</ul>
</li>
<li>ä½ çŸ¥é“çš„HTTPç‹€æ…‹ç¢¼æœ‰å“ªäº›?<ul>
<li>2xx<br>  <img src="https://i.imgur.com/KWTpmAh.png"></li>
<li>3xx<br>  <img src="https://i.imgur.com/zShTVKk.png"></li>
<li>400 - Bad Request : ä»£è¡¨é€åˆ°Serverçš„HTTP Requestèªæ³•æœ‰èª¤æˆ–ç„¡æ•ˆ<ul>
<li>æª¢æŸ¥: </li>
<li><ol>
<li>URLä¸­çš„éŒ¯èª¤</li>
</ol>
</li>
<li><ol start="2">
<li>èˆ‡è©²ç¶²ç«™çš„cookieå¯èƒ½æ¯€æï¼Œæ¸…é™¤ç€è¦½å™¨çš„cookieä»¥åŠcache</li>
</ol>
</li>
<li><ol start="3">
<li>å˜—è©¦åœ¨ä¸åŒçš„webç€è¦½å™¨ä¸Šæ‰“é–‹ç›¸åŒçš„ç¶²é </li>
</ol>
</li>
</ul>
</li>
<li>401 - Unauthorized: ä»£è¡¨ä½¿ç”¨è€…åœ¨æœªç¶“èº«åˆ†èªè­‰çš„æƒ…æ³ä¸‹å˜—è©¦å­˜å–è³‡æºï¼Œè€Œç”¨æˆ¶å¿…é ˆæä¾›credentialæ‰å¯ä»¥æŸ¥çœ‹å—ä¿è­·çš„è³‡æº<ul>
<li>æª¢æŸ¥:</li>
<li><ol>
<li>æª¢æŸ¥URLéŒ¯èª¤ï¼Œè‹¥URLæœ‰æ•ˆï¼Œå‰‡å­˜å–ä¸»é ä¸¦ç™»å…¥ï¼Œè¼¸å…¥è³‡è¨Šï¼Œç„¶å¾Œé‡è©¦</li>
</ol>
</li>
<li><ol start="2">
<li>ç€è¦½å™¨ä¹Ÿå¯èƒ½å¿«å–åˆ°ç„¡æ•ˆè³‡è¨Šï¼Œå› æ­¤å¯ä»¥æ¸…é™¤å¿«å–</li>
</ol>
</li>
</ul>
</li>
<li>403 - Forbidden: ç™¼ç”Ÿåœ¨ç”¨æˆ¶ç™¼å‡ºæœ‰æ•ˆè«‹æ±‚ä½†Serverç”±æ–¼ç¼ºä¹å­˜å–è³‡æºçš„æ¬Šé™è€Œæ‹’çµ•æœå‹™æ™‚<ul>
<li>æª¢æŸ¥: </li>
<li><ol>
<li>ç¢ºä¿Serverä¸­ &#x2F;www è³‡æ–™çš„å­˜å–æ¬Šé™æ˜¯æ­£ç¢ºçš„</li>
</ol>
</li>
<li><ol start="2">
<li>æª¢æŸ¥ .htaccess è¨­å®š(.htaccess æ–‡ä»¶æ§åˆ¶å°è³‡æºçš„å­˜å–)</li>
</ol>
</li>
<li><ol start="3">
<li>è‹¥ç¶²ç«™æ²’æœ‰indexæ–‡ä»¶ï¼Œä¹Ÿæœ‰å¯èƒ½ç™¼ç”Ÿé€™ç¨®æƒ…æ³ï¼Œé€™æ¨£é ˆå°‡ä¸»é é‡æ–°å‘½åç‚ºindex.html&#x2F;index.php</li>
</ol>
</li>
<li><ol start="3">
<li>èˆ‡ç¶²ç«™ç®¡ç†å“¡è¯ç¹«å·²å–å¾—å­˜å–æ¬Šé™ (æ‡‰å°‡æ¬Šé™è¨­ç‚ºè®€å–)</li>
</ol>
</li>
<li><ol start="4">
<li>è‹¥å…¶ä»–ç”¨æˆ¶å¯ä»¥å­˜å–ï¼Œå‰‡éœ€è¦è¯çµ¡ISPä¾†è§£æ±ºé€™å€‹å•é¡Œ</li>
</ol>
</li>
</ul>
</li>
<li>404 - Not Found: ä»£è¡¨ç”¨æˆ¶å¯èˆ‡Serveré€šè¨Šï¼Œä½†ç„¡æ³•å®šä½æ‰€è«‹æ±‚çš„è³‡æº<ul>
<li>æª¢æŸ¥:</li>
<li><ol>
<li>ä¸€æ¨£URLæœ‰æ²’æœ‰éŒ¯</li>
</ol>
</li>
<li><ol start="2">
<li>F5æ›´æ–°ç¶²é </li>
</ol>
</li>
<li><ol start="3">
<li>æ¸…é™¤ç€è¦½å™¨å¿«å–</li>
</ol>
</li>
<li><ol start="4">
<li>ä¿®æ”¹DNS Serverè¨­å®š</li>
</ol>
</li>
</ul>
</li>
<li>500 - Internal Server Error: é€™ä»£è¡¨ç¶²ç«™Serverå‡ºç¾å•é¡Œï¼ŒServerç„¡æ³•åµæ¸¬ç¢ºåˆ‡å•é¡Œï¼Œä½†clientç«¯é‚„æ˜¯èƒ½å¤ å˜—è©¦ä»¥ä¸‹æ­¥é©Ÿ<ul>
<li>æª¢æŸ¥:</li>
<li><ol>
<li>ç¶²è·¯æµé‡é«˜ï¼ŒæŒ‰ä¸‹F5ï¼Œé‡æ–°è¼‰å…¥ç¶²é </li>
</ol>
</li>
<li><ol start="2">
<li>æ¸…é™¤ç¶²è·¯ç€è¦½å™¨å¿«å–å’Œcookie</li>
</ol>
</li>
<li><ol start="3">
<li>æª¢æŸ¥ç¶²ç«™çš„ .htaccessæ–‡ä»¶è¢«æ­£ç¢ºå»ºç«‹</li>
</ol>
</li>
<li><ol start="4">
<li>æª¢æŸ¥æ–‡ä»¶å’Œè³‡æ–™å¤¾æ˜¯å¦æœ‰ä»»ä½•ä¸æ­£ç¢ºçš„æ¬Šé™</li>
</ol>
</li>
</ul>
</li>
<li>502 - Bad Gateway: ä»£è¡¨Serverå……ç•¶gatewayæˆ–proxyï¼Œç„¡æ³•å¾ä¸Šæ¸¸Serverç²å¾—æœ‰æ•ˆçš„Responseï¼Œé€™ä¹Ÿæœ‰å¯èƒ½æ˜¯ç”±æ–¼DNSå•é¡Œæ‰€é€ æˆçš„<ul>
<li>æª¢æŸ¥:</li>
<li><ol>
<li>F5éµï¼Œé‡æ–°è¼‰å…¥ç¶²é </li>
</ol>
</li>
<li><ol start="2">
<li>é—œé–‰æ‰€æœ‰æ‰“é–‹çš„ç€è¦½å™¨ä¸¦å•Ÿå‹•æ–°çš„ç€è¦½å™¨Session</li>
</ol>
</li>
<li><ol start="3">
<li>æ¸…ç©ºç€è¦½å™¨å¿«å–</li>
</ol>
</li>
<li><ol start="4">
<li>æš«æ™‚ç¦ç”¨CDN(Content Delivery Network)</li>
</ol>
</li>
<li><ol start="5">
<li>é‡å•Ÿç¶²è·¯è¨­å‚™(modem, router etc.)</li>
</ol>
</li>
</ul>
</li>
<li>503 - Service Unavailable: é€™ä»£è¡¨serverè² è¼‰éå¤§ï¼Œæˆ–æ­£åœ¨ç¶­è­·ä¸­<ul>
<li>æª¢æŸ¥:</li>
<li><ol>
<li>F5éµï¼Œé‡æ–°è¼‰å…¥ç¶²é </li>
</ol>
</li>
<li><ol start="2">
<li>é‡å•Ÿç¶²è·¯è¨­å‚™(modem, router etc.)</li>
</ol>
</li>
</ul>
</li>
<li>504 - Gateway Timeout: ä»£è¡¨Serveræ˜¯Gatewayæˆ–proxyï¼Œåœ¨å…è¨±çš„æ™‚é–“å…§ç„¡æ³•å¾å¾Œç«¯serverç²å¾—response<ul>
<li>æª¢æŸ¥:</li>
<li><ol>
<li>F5éµï¼Œé‡æ–°è¼‰å…¥ç¶²é </li>
</ol>
</li>
<li><ol start="2">
<li>é‡å•Ÿç¶²è·¯è¨­å‚™(modem, router etc.)</li>
</ol>
</li>
<li><ol start="3">
<li>è®Šæ›´DNS Server(è‹¥ä½ ç¶²è·¯ä¸­çš„æ‰€æœ‰è¨­å‚™éƒ½æ”¶åˆ°ç›¸åŒéŒ¯èª¤)</li>
</ol>
</li>
<li><ol start="4">
<li>ä»ç„¶æœ‰éŒ¯èª¤å¯èƒ½è¦è¯çµ¡ç¶²ç®¡æˆ–ISP</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹SMTPé‹ä½œåŸç†å—?</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹DNSçš„é‹ä½œåŸç†?<ul>
<li>æœ‰åˆ†æˆå…©ç¨®ï¼Œä¸€ç¨®æ˜¯æˆæ¬Šå‹DNSå¦ä¸€ç¨®æ˜¯éè¿´å‹server</li>
<li>æˆæ¬Šå‹æœƒæ¥æ”¶ä¸¦å›æ‡‰DNSæŸ¥è©¢æœå‹™ï¼Œä¸€å±¤ä¸€å±¤æ‰¾åˆ°root DNS Server</li>
<li>éè¿´å‹å‰‡æœ¬èº«æ²’æœ‰DNS Recordï¼Œä½†å®ƒæœƒå°‡è«‹æ±‚å‚³éçµ¦æˆæ¬ŠDNS Serverå»å–å¾—IPä½å€</li>
<li>é‹ä½œæµç¨‹:<ul>
<li>ç•¶è¼¸å…¥<a target="_blank" rel="noopener" href="http://www.ntust,edu.tw/">www.ntust,edu.tw</a> æ™‚ï¼ŒDNS Serveræœƒæ¥æ”¶åˆ°æŸ¥è©¢IPä½å€çš„è«‹æ±‚</li>
<li>DNS Serveræœƒé–‹å§‹æŸ¥è©¢<a target="_blank" rel="noopener" href="http://www.example.com/">www.example.com</a> çš„IPä½å€</li>
<li>ä¸¦æª¢æŸ¥local DNS Serverçš„Cacheä¸­æœ‰æ²’æœ‰dns record<ul>
<li>æœƒå» <code>/etc/resolv.conf</code> æŸ¥æ‰¾ï¼Œå°‡ç¶²åŸŸè®Šæ›´ç‚ºFQDN</li>
</ul>
</li>
<li>è‹¥æ²’æœ‰å‰‡æœƒå»root DNS Serverå»æŸ¥æ‰¾</li>
<li>root DNS Serveræœƒå»å‘ŠçŸ¥DNS Server ã€Œç®¡ç†twçš„DNS Serverã€çš„IPåœ°å€</li>
<li>è€Œlocal DNS Serverå–å¾—è©²IPå¾Œå°±æœƒå»ç™¼å‡ºDNSè«‹æ±‚<ul>
<li><code>dig tw ns +short</code></li>
</ul>
</li>
<li>è€Œç®¡ç†twçš„DNS Serveræœƒå»å‘Šè¨´local DNS Server ã€Œç®¡ç† edu.twçš„DNS Serverã€çš„IPä½å€<ul>
<li><code>dig @nameserver edu.tw ns</code></li>
<li><code>dig @a.dns.tw edu.tw ns +short</code></li>
</ul>
</li>
<li>è€Œlocal DNS Serverå–å¾—è©²IPå¾Œå°±æœƒå»ç™¼å‡ºDNSè«‹æ±‚</li>
<li>ç®¡ç†edu.twçš„DNS Serveræœƒå»å‘Šè¨´local DNS Server ã€Œç®¡ç†ntust.edu.twçš„DNS Serverã€çš„IPä½å€<ul>
<li><code>dig @nameserver ntust.edu.tw ns +short</code></li>
</ul>
</li>
<li>æ¥è‘—local DNS Serverå°±æœƒå»å°è©²IPä½å€ç™¼å‡ºè«‹æ±‚<ul>
<li><code>dig @RealAuthorieServer ntust.edu.tw a +short</code></li>
</ul>
</li>
<li>å‰‡ç®¡ç†ntust.edu.twçš„DNS Serveræœƒè¿”å›<a target="_blank" rel="noopener" href="http://www.ntust.edu.twçš„ipä½å€/">www.ntust.edu.twçš„IPä½å€</a></li>
</ul>
</li>
</ul>
</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹TLS&#x2F;SSL Handeshakeçš„éç¨‹å—?<br>  <a target="_blank" rel="noopener" href="https://www.cloudflare.com/zh-tw/learning/ssl/what-happens-in-a-tls-handshake/">https://www.cloudflare.com/zh-tw/learning/ssl/what-happens-in-a-tls-handshake/</a><br>  <img src="https://i.imgur.com/4EOqjes.png"><br>  é‹ä½œåœ¨Session Layerï¼Œä¸»è¦æœƒåœ¨é€šè¨Šé›™æ–¹äº¤æ›è³‡è¨Šä¸¦äº’ç›¸é©—è­‰ï¼Œä¸¦é€éä»–å€‘æ‰€ä½¿ç”¨çš„é€šè¨ŠåŠ å¯†æ¼”ç®—æ³•ä¸¦ç”¢ç”Ÿä¸€è‡´çš„å·¥ä½œé‡‘é‘°<ul>
<li>TLS æ¡æ‰‹ä»€éº¼æ™‚å€™ç™¼ç”Ÿï¼Ÿ<ul>
<li>ç”¨æˆ¶å°èˆªåˆ°ä¸€å€‹ä½¿ç”¨ HTTPS çš„ç¶²ç«™ï¼Œç€è¦½å™¨é¦–å…ˆé–‹å§‹æŸ¥è©¢ç¶²ç«™çš„åŸå§‹ä¼ºæœå™¨ï¼Œé€™æ™‚å°±æœƒç™¼ç”Ÿ TLS æ¡æ‰‹ã€‚</li>
<li>åœ¨ä»»ä½•å…¶ä»–é€šä¿¡ä½¿ç”¨HTTPSæ™‚ï¼ˆåŒ…æ‹¬ API èª¿ç”¨å’Œ DNS over HTTPS æŸ¥è©¢ï¼‰ï¼Œä¹Ÿæœƒç™¼ç”Ÿ TLS æ¡æ‰‹ã€‚</li>
<li>é€šé TCP Handshake æ‰“é–‹ TCP é€£æ¥å¾Œï¼Œå°‡ç™¼ç”Ÿ TLS Handshake</li>
</ul>
</li>
<li>TLS Handshakeéç¨‹ä¸­ç™¼ç”Ÿå•¥äº‹?<ul>
<li>clientèˆ‡serverä¹‹é–“æœƒé€²è¡Œä»¥ä¸‹æ“ä½œ:<ul>
<li>æŒ‡å®šTLSç‰ˆæœ¬(TLS 1.0ã€1.2ã€1.3)</li>
<li>æ±ºå®šæ‰€ä½¿ç”¨çš„å¯†ç¢¼å­¸å¥—ä»¶</li>
<li>é€éServerçš„å…¬é–‹å¯†é‘°å’ŒSSLæ†‘è­‰é ’ç™¼æ©Ÿæ§‹çš„é›»å­ç°½ç« å»é©—è­‰Serverçš„èº«åˆ†</li>
<li>ç”Ÿæˆå·¥ä½œéšæ®µé‡‘é‘°ï¼Œä»¥ä¾¿åœ¨æ¡æ‰‹å®Œæˆå¾Œä½¿ç”¨å°ç¨±åŠ å¯†</li>
</ul>
</li>
</ul>
</li>
<li>TLS Handshakeçš„æ­¥é©Ÿæ˜¯ç”šéº¼?<ul>
<li>å…·é«”æ­¥é©Ÿæœƒéš¨è‘—ä½¿ç”¨çš„é‡‘é‘°äº¤æ›æ¼”ç®—æ³•çš„ä¸åŒè€Œä¸åŒ</li>
<li>æœ€å¸¸ç”¨çš„æ˜¯<strong>RSA</strong>é‡‘é‘°äº¤æ›æ¼”ç®—æ³•<ul>
<li><strong>Client Hello:</strong><ul>
<li>clientå°serverç™¼å‡ºhelloæ¶ˆæ¯ä¾†é€²è¡ŒHandshakeï¼Œå…¶ä¸­åŒ…å«äº†ç”¨æˆ¶ç«¯æ”¯æ´çš„TLSç‰ˆæœ¬ï¼Œæ”¯æ´çš„å¯†ç¢¼å¥—ä»¶ã€ä»¥åŠä¸€å€‹clientéš¨æ©Ÿäº‚æ•¸</li>
</ul>
</li>
<li><strong>Server Hello:</strong><ul>
<li>å›è¦†client helloï¼Œserverå›å‚³è¨Šæ¯ä¸­åŒ…å«:</li>
<li>SSLæ†‘è­‰ <code>é€™æ˜¯å“ªä¾†çš„?æ€éº¼ç”¢ç”Ÿçš„?</code></li>
<li>ä¼ºæœå™¨é¸æ“‡çš„å¯†ç¢¼å¥—ä»¶</li>
<li>serveréš¨æ©Ÿäº‚æ•¸</li>
</ul>
</li>
<li><strong>èº«åˆ†èªè­‰</strong><ul>
<li>clientç«¯ä½¿ç”¨é ’ç™¼è©²æ†‘è­‰çš„æ†‘è­‰æˆæ¬Šé©—è­‰ä¼ºæœå™¨çš„ SSL æ†‘è­‰</li>
<li>æ­¤èˆ‰ç¢ºèªServeræ˜¯å…¶è²ç¨±çš„èº«ä»½ï¼Œä¸”clientæ­£åœ¨èˆ‡è©²domainçš„å¯¦éš›æ‰€æœ‰è€…é€²è¡Œäº’å‹•</li>
</ul>
</li>
<li><strong>premaster secret</strong><ul>
<li>clientç«¯å†ç™¼é€ä¸€ä¸²éš¨æ©Ÿä½å…ƒçµ„ï¼Œå³premaster secret</li>
<li>premaster secretä½¿ç”¨å…¬é–‹é‡‘é‘°åŠ å¯†(æ˜¯clientå¾SSLæ†‘è­‰ä¸­å–å¾—å…¬é‘°ï¼Œä¾†é€²è¡ŒåŠ å¯†çš„)</li>
<li>åªèƒ½ä½¿ç”¨serverçš„secret keyé€²è¡Œè§£å¯†</li>
</ul>
</li>
<li><strong>secret keyè¢«ä½¿ç”¨</strong><ul>
<li>serveré€éç§é‘°å°premaster secreté€²è¡Œè§£å¯†</li>
</ul>
</li>
<li><strong>ç”Ÿæˆå·¥ä½œéšæ®µé‡‘é‘°</strong><ul>
<li>client èˆ‡ serverç«¯å‡ä½¿ç”¨clientäº‚æ•¸ã€serveräº‚æ•¸å’Œpremaster secretå»ç”Ÿæˆå·¥ä½œéšæ®µé‡‘é‘°</li>
</ul>
</li>
<li><strong>clientå°±ç·’</strong><ul>
<li>clientæœƒç™¼é€ä¸€æ¢<strong>å·²å®Œæˆ</strong>çš„æ¶ˆæ¯</li>
</ul>
</li>
<li><strong>serverå°±ç·’</strong> <ul>
<li>serveræœƒç™¼é€ä¸€æ¢<strong>å·²å®Œæˆ</strong>çš„æ¶ˆæ¯</li>
</ul>
</li>
</ul>
</li>
<li>æ‰€æœ‰ TLS æ¡æ‰‹éƒ½ä½¿ç”¨éå°ç¨±åŠ å¯†ï¼ˆå…¬é–‹é‡‘é‘°å’Œç§å¯†é‡‘é‘°ï¼‰ï¼Œä½†ä¸¦ä¸æ˜¯æ‰€æœ‰çš„ TLS æ¡æ‰‹éƒ½æœƒåœ¨ç”Ÿæˆå·¥ä½œéšæ®µå¯†é‘°çš„éç¨‹ä¸­ä½¿ç”¨ç§å¯†é‡‘é‘°ã€‚ä¾‹å¦‚ï¼Œè‡¨æ™‚ <strong>Diffie-Hellman</strong> æ¡æ‰‹çš„æ­¥é©Ÿå¦‚ä¸‹ï¼š<ul>
<li><strong>Client Hello</strong><ul>
<li>åŒ…å«å”å®šç‰ˆæœ¬ã€clientäº‚æ•¸ã€å¯†ç¢¼å­¸å¥—ä»¶æ¸…å–®</li>
</ul>
</li>
<li><strong>Server Hello</strong><ul>
<li>åŒ…å«SSLæ†‘è­‰ã€é¸å®šçš„å¯†ç¢¼å¥—ä»¶ã€Serveräº‚æ•¸</li>
</ul>
</li>
<li><strong>serverçš„æ•¸ä½ç°½ç« </strong><ul>
<li>serverä½¿ç”¨å…¶ç§é‘°å°clientäº‚æ•¸ã€serveräº‚æ•¸ä»¥åŠDHåƒæ•¸é€²è¡ŒåŠ å¯†</li>
<li>åŠ å¯†å¾Œçš„è³‡æ–™ç”¨ä½œä¼ºæœå™¨çš„æ•¸ä½ç°½ç« </li>
<li>å·²ç¢ºå®šServerä¸­å…·æœ‰èˆ‡SSLæ†‘è­‰ä¸­çš„å…¬é‘°åŒ¹é…çš„ç§é‘°</li>
</ul>
</li>
<li><strong>Serverèˆ‡Clientè¨ˆç®—premaster secret</strong><ul>
<li>clientèˆ‡serverä½¿ç”¨äº¤æ›çš„DHåƒæ•¸åˆ†åˆ¥è¨ˆç®—åŒ¹é…çš„premaster secret</li>
<li>è€Œä¸åƒRSA Handshakeé‚£æ¨£ç”±ç”¨æˆ¶ç«¯ç”Ÿæˆpremaster secretä¸¦å°‡å…¶ç™¼é€åˆ°server</li>
</ul>
</li>
<li><strong>å»ºç«‹å·¥ä½œéšæ®µé‡‘é‘°</strong><ul>
<li>clientèˆ‡serverå¾premaster secretã€clientäº‚æ•¸ã€serveräº‚æ•¸ä¸­è¨ˆç®—å·¥ä½œéšæ®µé‡‘é‘°</li>
</ul>
</li>
<li><strong>clientå°±ç·’</strong><ul>
<li>clientæœƒç™¼é€ä¸€æ¢<strong>å·²å®Œæˆ</strong>çš„æ¶ˆæ¯</li>
</ul>
</li>
<li><strong>serverå°±ç·’</strong> <ul>
<li>serveræœƒç™¼é€ä¸€æ¢<strong>å·²å®Œæˆ</strong>çš„æ¶ˆæ¯</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000021778053">TLS Handshakeå¤±æ•—å¯èƒ½åŸå› æœƒæ˜¯ç”šéº¼?</a><ul>
<li>å¸¸è¦‹éŒ¯èª¤è¨Šæ¯:<code>SSL Handshake Failed error</code></li>
<li>å¸¸è¦‹éŒ¯èª¤åŸå› :<ul>
<li>å”å®šä¸åŒ¹é…  <code>serverç«¯å‡ºéŒ¯</code></li>
<li>åŠ å¯†å¥—ä»¶ä¸åŒ¹é… <code>serverç«¯å‡ºéŒ¯</code> â†’ Serverç«¯ä¸æ”¯æ´clientè«‹æ±‚ä½¿ç”¨çš„åŠ å¯†å¥—ä»¶</li>
<li>ç³»çµ±æ™‚é–“ä¸æº–ç¢º (å¯æ˜¯å‰›å‰›éç¨‹æ²’ç”¨åˆ°æ™‚é–“è³‡è¨Šé˜¿:|)</li>
<li>ç€è¦½å™¨è¨­å®šéŒ¯èª¤</li>
<li>æ†‘è­‰éŒ¯èª¤ <code>serverç«¯å‡ºéŒ¯</code><ul>
<li>æ†‘è­‰ä¸­çš„domain nameèˆ‡URLä¸­çš„domain nameä¸ç¬¦</li>
<li>æ†‘è­‰éæœŸ</li>
<li>æˆ–æ†‘è­‰éˆå‡ºéŒ¯</li>
<li>ä½¿ç”¨è‡ªç°½åçš„æ†‘è­‰</li>
</ul>
</li>
<li>Serverå•Ÿç”¨äº†SNI-Enabled <code>serverç«¯å‡ºéŒ¯</code></li>
</ul>
</li>
<li><strong>å”å®šä¸åŒ¹é…</strong><ul>
<li>é€é <code>tcpdump -i any -s 0 host IP address -w File name</code> åœ¨clientæˆ–serverä¸Šè’é›†è³‡è¨Š</li>
<li>é€éwiresharkå»åˆ†æè’é›†çš„packet</li>
<li>å»æ‰¾<strong>client hello</strong>æ‰€ä½¿ç”¨çš„TLSç‰ˆæœ¬</li>
<li>å»çœ‹Severç«¯ä¹‹å¾Œå¾ŒçºŒè™•ç†çš„éŒ¯èª¤è³‡è¨Š</li>
<li><a target="_blank" rel="noopener" href="https://docs.apigee.com/api-platform/troubleshoot/runtime/ssl-handshake-failures">https://docs.apigee.com/api-platform/troubleshoot/runtime/ssl-handshake-failures</a></li>
</ul>
</li>
</ul>
</li>
<li>ç¶²ç«™æ†‘è­‰éæœŸè©²æ€éº¼è¾¦?<ul>
<li>å»æ›´æ–°æ†‘è­‰</li>
</ul>
</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹ç”šéº¼æ˜¯SSLå—?<ul>
<li>å…¨åæ˜¯Secure Soekcts Layersï¼Œç”¨ä¾†ç¢ºä¿å…©å€‹ç³»çµ±ä¹‹é–“æ‰€å‚³éçš„æ•æ„Ÿè³‡æ–™è¢«ç«„æ”¹æˆ–è®€å–</li>
<li>TLSå°±æ˜¯æ›´å®‰å…¨çš„SSLç‰ˆæœ¬</li>
</ul>
</li>
</ul>
<h2 id="Linux-Admin"><a href="#Linux-Admin" class="headerlink" title="Linux Admin"></a>Linux Admin</h2><blockquote>
<p>æ„Ÿè¦ºåå‘æŒ‡ä»¤ä½¿ç”¨æˆ–configå¦‚ä½•è¨­å®š</p>
</blockquote>
<ul>
<li>åœ¨Linuxä¸­ä½ æœƒæ€éº¼ç®¡ç†Userè·ŸGroup?é‚£åœ¨Windowsä¸­ä½ åˆæœƒæ€éº¼åšç®¡ç†?<ul>
<li>çœ‹user<code>cat /etc/passwd</code></li>
<li>æ–°å¢user <code>useradd</code></li>
<li>æ–°å¢group <code>groupadd</code></li>
<li>å†é€é <code>gpasswd</code> å°‡ä½¿ç”¨è€…åŠ å…¥æˆ–ç§»é™¤ root (sudo) æ¬Šé™ç¾¤çµ„</li>
</ul>
</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹<code>curl</code> æŒ‡ä»¤çš„åŸç†å—?<ul>
<li>ä¸€å€‹command lineå·¥å…·å¯ä»¥å‚³éè³‡æ–™åˆ°serverä¸­</li>
</ul>
</li>
<li>ä½ æœƒæ€éº¼ä½¿ç”¨ <code>curl</code> é€™å€‹æŒ‡ä»¤ä¾†åšTroubleshooting?<ul>
<li><code>$ curl protocol://IP/host:port</code></li>
<li>Troubleshooting Web Servers<ul>
<li><code>curl http://example.com -I</code> é€é-Iåƒæ•¸ä¾†è¿”å›Header</li>
</ul>
</li>
<li>Troubleshooting SMTP Servers <ul>
<li><code>curl smtp://example.com</code> é è¨­ä½¿ç”¨ port 25 ä½œç‚ºSMTP Port</li>
<li>ä½†æŸäº›ISPæœƒé˜»æ“‹æ¨™æº–SMTP portä¾†é˜²æ­¢SPAM</li>
<li>äº¦å¯ä½¿ç”¨ 2525 æˆ– 587 port</li>
</ul>
</li>
<li>Troubleshooting FTP<ul>
<li><code>curl ftp://example.com</code> é è¨­ä½¿ç”¨21 port</li>
</ul>
</li>
</ul>
</li>
<li>å¦‚ä½•ä½¿ç”¨ <code>curl</code> æŒ‡ä»¤ä¸¦é€éproxyä¾†é€£æ¥?<ul>
<li><code>curl --proxy yourproxy:port https://yoururl.com</code></li>
</ul>
</li>
<li>å¦‚ä½•é€é <code>curl</code> ç•¥éæª¢æŸ¥è‡ªç°½SSLæ†‘è­‰çš„æœ‰æ•ˆæ€§?<ul>
<li><code>curl -k https://localhost/</code></li>
<li><code>curl --insecure https://localhost/</code></li>
</ul>
</li>
<li>curl å„ç¨®ç”¨æ³•:<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ curl [protocol://domain:port/]</span><br><span class="line">$ curl -o &lt;æ¬²ä¸‹è¼‰çš„æª”å&gt; [protocol://domain:port/] ä¸‹è¼‰ç‰¹å®šæª”æ¡ˆ</span><br><span class="line">$ curl -O [protocol://domain:port/file]  ç›´æ¥ä¸‹è¼‰ç¶²å€ä¸­çš„æª”æ¡ˆ</span><br><span class="line">$ curl -C - -O [protocol://domain:port/file] å¾å‰›å‰›è¢«ä¸­æ–·çš„åœ°æ–¹ç¹¼çºŒä¸‹è¼‰</span><br><span class="line">$ curl -L [protocol://domain:port/] è·Ÿéš¨ç¶²å€çš„301/302 redirect</span><br><span class="line">$ curl --trace-ascii debugdump.txt [protocol://domain:port/] è¿½è¹¤æ•´å€‹curléç¨‹ï¼Œä¸¦å°‡çµæœå­˜å…¥debugdump.txtæª”æ¡ˆ</span><br></pre></td></tr></table></figure></li>
<li>curl é€²è¡ŒHTTP Request<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-X/--request [GET|POST|PUT|DELETE|PATCH]  ä½¿ç”¨æŒ‡å®šçš„ http method ä¾†ç™¼å‡º http request</span><br><span class="line">-H/--header                           è¨­å®š request è£¡æ‰€æ”œå¸¶çš„ header</span><br><span class="line">-i/--include                          åœ¨ output é¡¯ç¤º response çš„ header</span><br><span class="line">-d/--data                             æ”œå¸¶ HTTP POST Data </span><br><span class="line">-v/--verbose                          è¼¸å‡ºæ›´å¤šçš„è¨Šæ¯æ–¹ä¾¿ debug</span><br><span class="line">-u/--user                             æ”œå¸¶ä½¿ç”¨è€…å¸³è™Ÿã€å¯†ç¢¼</span><br><span class="line">-b/--cookie                           æ”œå¸¶ cookieï¼ˆå¯ä»¥æ˜¯åƒæ•¸æˆ–æ˜¯æª”æ¡ˆä½ç½®ï¼‰</span><br></pre></td></tr></table></figure></li>
<li>é€é curlå»POSTè³‡æ–™åˆ° HTML Form<ul>
<li>å‡è¨­æ”¶åˆ°çš„Formè¡¨å–®çš„HTMLé•·é€™æ¨£  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=&quot;POST&quot; action=&quot;form.php&quot;&gt;</span><br><span class="line">   	&lt;input type=text name=&quot;email&quot;&gt;</span><br><span class="line">   	&lt;input type=submit name=press value=&quot; OK &quot;&gt;</span><br><span class="line">	&lt;/form&gt;</span><br></pre></td></tr></table></figure></li>
<li><code>curl -X POST --data &quot;email=test@example.com&amp;press=%20OK%20&quot; http://www.example.com/form.php</code></li>
</ul>
</li>
<li>é€é curlå»é€²è¡Œæª”æ¡ˆä¸Šå‚³<ul>
<li>å‡è¨­æ”¶åˆ°çš„Formè¡¨å–®çš„HTMLæ˜¯  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;form method=&quot;POST&quot; enctype=&#x27;multipart/form-data&#x27; action=&quot;upload.php&quot;&gt;</span><br><span class="line">		&lt;input type=file name=upload&gt;</span><br><span class="line">		&lt;input type=submit name=press value=&quot;OK&quot;&gt;</span><br><span class="line">&lt;/form&gt;</span><br></pre></td></tr></table></figure></li>
<li><code>curl -X POST -F &#39;file=@./upload.txt&#39; http://www.example.com/upload.php</code></li>
</ul>
</li>
<li>é€écurlå¸¸è¦‹çš„RESTFul CRUDæŒ‡ä»¤:<ul>
<li>GETå–®ä¸€æˆ–å…¨éƒ¨è³‡æº  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl -X GET &quot;http://www.example.com/api/resources&quot;</span><br><span class="line">$ curl -X GET &quot;http://www.example.com/api/resources/1&quot;</span><br></pre></td></tr></table></figure></li>
<li>POST JSONè³‡æ–™  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -X POST -H &quot;Content-Type: application/json&quot; -d &#x27;&#123;&quot;status&quot;:false,&quot;name&quot;:&quot;Jack&quot;&#125;&#x27; &quot;http://www.example.com/api/resources&quot;</span><br></pre></td></tr></table></figure></li>
<li>PUT JSONè³‡æ–™  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -X PUT -H &quot;Content-Type: application/json&quot; -d &#x27;&#123;&quot;status&quot;:false&#125;&#x27; &quot;http://www.example.com/api/resources&quot;</span><br></pre></td></tr></table></figure></li>
<li>DELETE è³‡æº   <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -X DELETE &quot;http://www.example.com/api/resources/1&quot;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>é€écurlæ”œå¸¶cookie</strong><ul>
<li>åœ¨æŒ‡ä»¤ä¸­è¼¸å…¥cookie  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl --cookie &quot;name=Jack&quot; http://www.example.com</span><br></pre></td></tr></table></figure></li>
<li>å¾æª”æ¡ˆä¸­è®€å–cookie  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl --cookie stored_cookies_file_path http://www.example.com</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><strong>curlæŒ‡å®šæ”œå¸¶User Agent</strong>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl --user-agent &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64)&quot; 		http://www.example.com</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>Basic Authentication:</strong> è‹¥ç¶²é æœ‰ä½¿ç”¨åŸºæœ¬çš„Authenticationå‰‡å¯æ”œå¸¶<code>--user username:password</code> ä¾†é€šéé©—è­‰  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -i --user secret:vary_secret http://www.example.com/api/resources</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>é€écurlæŒ‡ä»¤ä½¿ç”¨proxyåšé€£æ¥<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl --proxy yourproxy:port https://youurl.com</span><br></pre></td></tr></table></figure></li>
<li>curlé™å®šä¸‹è¼‰é€Ÿåº¦<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl --limit-rate 2000B [URL]</span><br></pre></td></tr></table></figure></li>
<li><strong>åœ¨è«‹æ±‚ä¸­æ³¨å…¥ç‰¹å®šContent-Typeä¾†è™•ç†ç‰¹å®šå•é¡Œ</strong><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl --header &#x27;Content-Type: application/json&#x27; http://yoururl.com</span><br></pre></td></tr></table></figure></li>
<li>åƒ…åœ¨å›æ‡‰ä¸­å‘ˆç¾header<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl --head http://yoururl.com</span><br></pre></td></tr></table></figure></li>
<li><strong>é€£æ¥ HTTPS&#x2F;SSL URL ä¸¦å¿½ç•¥ä»»ä½• SSL æ†‘è­‰éŒ¯èª¤</strong><ul>
<li>ç•¶è©¦åœ–å­˜å–SSL&#x2F;TLSæ†‘è­‰çš„å®‰å…¨URLæ™‚å€™ï¼Œè‹¥å‡ºç¾æ†‘è­‰éŒ¯èª¤æˆ–CNä¸åŒ¹é…ï¼Œå‰‡æœƒå‡ºç¾ä»¥ä¸‹éŒ¯èª¤<br>  <code>curl: (51) Unable to communicate securely with peer: requested domain name does not match the server&#39;s certificate.</code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl --insecure https://yoururl.com</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>ä½¿ç”¨ç‰¹å®šå”å®š(SSL&#x2F;TLS)é€£ç·š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ curl --sslv3 https://yoururl.com</span><br><span class="line">$ curl --tlsv1 https://example.com</span><br><span class="line">$ curl --tlsv1.0 https://example.com</span><br><span class="line">$ curl --tlsv1.1 https://example.com</span><br><span class="line">$ curl --tlsv1.2 https://example.com</span><br><span class="line">$ curl --tlsv1.3 https://example.com</span><br></pre></td></tr></table></figure></li>
<li>å¾FTP Serverä¸­ä¸‹è¼‰æª”æ¡ˆ<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -u user:password -O ftp://ftpurl/style.css</span><br></pre></td></tr></table></figure></li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹MTRæŒ‡ä»¤æ€éº¼ç”¨å—?<ul>
<li><a target="_blank" rel="noopener" href="https://blog.gtwang.org/linux/mtr-linux-network-diagnostic-tool/"><strong>MTR</strong></a><ul>
<li>æŒ‡ä»¤å¯¦ä½œ: MTR åœ¨ä¸€é–‹å§‹æœƒé‡å°æŒ‡å®šçš„ä¸»æ©Ÿï¼Œä»¥ traceroute æ‰¾å‡ºä¸­é–“çš„æ¯ä¸€å€‹ç¶²è·¯ç¯€é»ï¼ˆé–˜é“å™¨ã€è·¯ç”±å™¨ã€æ©‹æ¥å™¨ç­‰ï¼‰ï¼Œç„¶å¾Œä½¿ç”¨ ping å»æª¢æŸ¥æ¯ä¸€å€‹ç¯€é»çš„ç¶²è·¯é€£ç·šç‹€æ³ï¼Œå³æ™‚æ›´æ–°åœ¨è¼¸å‡ºçš„å ±è¡¨ä¸­ï¼Œè®“ç®¡ç†è€…ä¸€ç›®äº†ç„¶ã€‚  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mtr www.google.com.tw   </span><br><span class="line">mtr -n www.google.com.tw //çµ±ä¸€ä»¥ipä½å€ä¾†å‘ˆç¾</span><br><span class="line">mtr -b www.google.com.tw //åŒæ™‚å‘ˆç¾ipä½å€ä»¥åŠç¶²åŸŸåç¨±</span><br><span class="line">mtr -c 5 www.google.com.tw // æŒ‡å®šping ä¸Šé™(ICMP ECHO ä¸Šé™)</span><br><span class="line">mtr -c 5 -r www.google.com.tw &gt; output.txt //è¼¸å‡ºå ±è¡¨</span><br><span class="line"></span><br></pre></td></tr></table></figure>
  <img src="https://i.imgur.com/BSFP2pP.png"></li>
<li>L(Loss): å°åŒ…éºå¤±ç‡</li>
<li>S(Snt,Sent Packet): å°åŒ…ç™¼é€æ•¸</li>
<li>Avg(Average RTT): </li>
<li>Best(Best RTT):</li>
<li>Worst(Worst RTT):</li>
</ul>
</li>
<li>æ‰€ä»¥å¾é€™å€‹å·¥å…·ä¸­å¯ä»¥ç™¼ç¾ç”šéº¼?????</li>
</ul>
</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹ <code>iperf</code> æŒ‡ä»¤æ€éº¼ä½¿ç”¨å—?<ul>
<li>&#x3D; <code>iperf3</code>æ˜¯ä¸€ç¨®ç¶²è·¯é »å¯¬æ¸¬è©¦å·¥å…·ï¼Œå¯ä»¥æ¸¬è©¦å®¢æˆ¶ç«¯ä¸Šå‚³è³‡æ–™é€Ÿåº¦</li>
<li>é€éTCPä¾†æ¸¬é‡é »å¯¬ã€ç¢ºå®šéˆè·¯å“è³ªè·Ÿå»¶é²ä»¥åŠæŠ–å‹•å’Œå°åŒ…éºå¤±</li>
<li>æ¸¬æ™‚é »å¯¬æ™‚ï¼Œéœ€è¦åŒæ™‚åœ¨serverèˆ‡clientç«¯éƒ½å„åŸ·è¡Œä¸€å€‹iperf3ç¨‹å¼ï¼Œè®“ä»–å€‘äº’ç›¸å‚³é€è³‡æ–™é€²è¡Œæ¸¬è©¦  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># serverç«¯   </span><br><span class="line">iperf3 -s   //æ‰“é–‹ç›£è½socket é è¨­portç‚º5201ï¼Œé–‹æ”¾Server Thread</span><br></pre></td></tr></table></figure>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># clientç«¯</span><br><span class="line">iperf3 -c SERVER_IP/HOSTNAME</span><br></pre></td></tr></table></figure></li>
<li>iperf3 ä¹Ÿæ”¯æ´Androidä»¥åŠIOSçš„ä½¿ç”¨(æœ‰APP)</li>
<li>æŒ‡å®šæ¸¬è©¦æ™‚é–“  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c SERVER_IP -t 20 -i 4 //æ¸¬è©¦20ç§’ï¼Œæ¯éš”4ç§’è¼¸å‡ºä¸€æ¬¡æ¸¬è©¦æ•¸æ“š</span><br></pre></td></tr></table></figure></li>
<li>å„²å­˜æ¸¬è©¦çµæœ  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c SERVER_IP --logfile output.txt</span><br></pre></td></tr></table></figure></li>
<li>æŒ‡å®šport  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Serverç«¯</span><br><span class="line">iperf3 -s -p 12345</span><br><span class="line"></span><br><span class="line"># clientç«¯</span><br><span class="line">iperf3 -c SERVER_IP -p 12345</span><br></pre></td></tr></table></figure></li>
<li>å¤šæ¢é€£ç·š  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#åŒæ™‚ä½¿ç”¨å…©æ¢é€£ç·šæ¸¬è©¦</span><br><span class="line">iperf3 -c SERVER_IP -P 2</span><br></pre></td></tr></table></figure></li>
<li>è‹¥è¦æ¸¬è©¦UDPå‚³è¼¸å”å®šæ•ˆèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ <code>-u</code> åƒæ•¸  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c SERVER_IP -u</span><br></pre></td></tr></table></figure></li>
<li>åå‘å‚³è¼¸:æ¸¬è©¦ä¸‹è¼‰é€Ÿåº¦(serverå‚³é€ï¼Œcleintæ¥æ”¶)<ul>
<li>é è¨­è³‡æ–™æµ: client $\rightarrow$ Server  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c SERVER_IP -R</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>IPv4ã€IPv6  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c SERVER_IP -f</span><br><span class="line">iperf3 -c SERVER_IP -6</span><br></pre></td></tr></table></figure></li>
<li>è‡ªè¨‚å‚³é€æª”æ¡ˆ  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c SERVER_ip -F YOUR_FILE</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹ <code>tracert</code> æŒ‡ä»¤æ€éº¼ä½¿ç”¨å—?ç”šéº¼æƒ…æ³ä¸‹ä½ æœƒç”¨åˆ°é€™å€‹æŒ‡ä»¤?<br>ä¸»è¦æ˜¯ç”¨æ–¼å³æ™‚ç¶²çµ¡æ•…éšœæ’é™¤ï¼Œä»¥æŸ¥æ‰¾å°åŒ…åœ¨é€šéç¶²è·¯å‚³è¼¸åˆ°å…¶ç›®æ¨™åœ°å€æ™‚æ‰€æ¡ç”¨çš„è·¯ç”±è·¯å¾‘<br>ä¸»è¦æ˜¯é€éç™¼é€ICMPå°åŒ…ï¼Œä¸¦è¨­å®šIP Headerä¸Šçš„TTLæ¬„ä½ä¾†é”æˆtracerouteåŠŸèƒ½çš„<br>æ¯æ¬¡é€å‡ºçš„ç‚º3å€‹40bytesçš„å°åŒ…ï¼ŒåŒ…æ‹¬sourceä½å€ï¼Œç›®çš„ä½å€å’Œå°åŒ…ç™¼å‡ºçš„timestampåˆ°ç›®çš„åœ°ï¼Œç¬¬ä¸€å€‹æœƒæ˜¯probe(æ¢æ¸¬ç”¨)ï¼Œç„¶å¾Œæ˜¯èµ°UDPï¼Œç”±æ–¼æˆ‘å€‘ä¸æƒ³ç›®çš„ä¸»æ©Ÿè™•ç†å®ƒå€‘ï¼Œå› æ­¤ç›®çš„åŸ è¨­å®šç‚ºä¸€å€‹ä¸å¯èƒ½çš„å€¼<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ tracert -d -h maximum_hops -j host_list -w timeout target_host</span><br><span class="line">-w è¦æŒ‡å®šç­‰å¾…timeoutçš„æ¯«ç§’æ•¸</span><br></pre></td></tr></table></figure></li>
<li>ç•¶ <code>tracert</code> æŒ‡ä»¤ä¸­å‡ºç¾æ˜Ÿè™Ÿä»£è¡¨ç”šéº¼?<ul>
<li>è‹¥tracertå‡ºç¾æ˜Ÿè™Ÿ(*)ï¼Œä»£è¡¨è©²ç¯€é»å¯èƒ½æœ‰æŸäº›é˜²ç¦¦æªæ–½ï¼Œä½¿æˆ‘å€‘çš„å°åŒ…è¢«ä¸Ÿæ£„<ul>
<li>å¯èƒ½æ˜¯iptablesè¨­å®šç‚ºDropä¹‹é¡çš„</li>
</ul>
</li>
</ul>
</li>
<li>è¬›è§£ä¸€ä¸‹ <code>tracert</code> æŒ‡ä»¤çš„åŸç†æ˜¯ç”šéº¼å—?<ul>
<li>ç‰¹æ€§1: ä¸»è¦æ˜¯é€é TTL(Time_To_Live)å€¼ä¾†æ˜¯ç¾åŠŸèƒ½çš„ï¼Œæ¯ç¶“éä¸€å€‹ç¯€é»ï¼Œè·¯ç”±å™¨å°±æœƒå¹«TTLå€¼æ¸›1</li>
<li>ç‰¹æ€§2: ä¸»è¦å‘¼å«è€…æœƒç™¼å‡º TTL&#x3D;1çš„å°åŒ…ï¼Œç¬¬ä¸€å€‹è·¯ç”±å™¨å°‡TTLæ¸›1å¾Œå¾—åˆ°0ï¼Œä¸å†ç¹¼çºŒå€¼è½‰ç™¼æ­¤å°åŒ…</li>
<li>è€Œæœƒè¿”å›ä¸€å€‹ICMP Time_Out Responseï¼Œç„¶å¾Œé›»è…¦å°±æœƒå¾Responseä¸­æå–å‡ºå°åŒ…ç¶“éçš„ç¬¬ä¸€å€‹gatewayåœ°å€</li>
<li>æ¥è‘—ç™¼å‡ºä¸€å€‹TTL&#x3D;2çš„ICMPå°åŒ…ï¼Œå¯ä»¥ç²å¾—ç¬¬äºŒå€‹gatewayåœ°å€</li>
<li>å› æ­¤ä¾æ¬¡éå¢TTLå€¼ä¾¿ç²å–æ²¿é€”æ‰€æœ‰Gatewatä½å€</li>
</ul>
</li>
<li>å¦‚æœ <code>tracert</code> å›å‚³responseä¸¦ä¸æ˜¯ICMP Time_Outï¼Œä»£è¡¨ç”šéº¼?<ul>
<li>å¤§å¤šé˜²ç«ç‰†æˆ–å•Ÿç”¨é˜²ç«ç‰†åŠŸèƒ½çš„è·¯ç”±å™¨é è¨­æœƒä¸è¿”å›å„ç¨®ICMPå°åŒ…</li>
<li>å…¶é¤˜è·¯ç”±å™¨æˆ–äº¤æ›å™¨å¯è¢«adminè¨­å®šæˆä¸è¿”å›ICMP Response</li>
<li><strong>å› æ­¤ Tracerouteç¨‹å¼ä¸ä¸€å®šèƒ½å¤ æ‹¿åˆ°æ‰€æœ‰æ²¿é€”gatewayä½å€</strong><ul>
<li>ç•¶æŸå€‹TTLå€¼çš„å°åŒ…å¾—ä¸åˆ°å›è¦†æ™‚ï¼Œä¸¦ä¸èƒ½åœæ­¢é€™ä¸€è¿½è¹¤éç¨‹ï¼Œç¨‹å¼ä»ç„¶æœƒæŠŠTTLéå¢ç„¶å¾Œç™¼å‡ºä¸‹ä¸€å€‹å°åŒ…ï¼Œä¸€ç›´åˆ°é è¨­æœƒé€éåƒæ•¸æŒ‡å®šçš„<strong>è¿½è¹¤é™åˆ¶(maximum_hops)</strong></li>
</ul>
</li>
</ul>
</li>
<li>è‹¥ç„¡æ³•å›æ‡‰ICMP Responseï¼Œé‚£åˆæ˜¯å¦‚ä½•çŸ¥é“å°åŒ…æŠµé”äº†?<ul>
<li>Tracerouteåœ¨é€å‡ºUDP datagramsåˆ°ç›®çš„åœ°æ™‚ï¼Œå®ƒæ‰€é¸æ“‡é€é”çš„port number æ˜¯ä¸€å€‹ä¸€èˆ¬æ‡‰ç”¨ç¨‹å¼éƒ½ä¸æœƒç”¨çš„è™Ÿç¢¼ï¼ˆ<strong>30000 ä»¥ä¸Š</strong>ï¼‰</li>
<li>æ‰€ä»¥ç•¶æ­¤UDP datagram åˆ°é”ç›®çš„åœ°å¾Œè©²ä¸»æ©Ÿæœƒé€å›ä¸€å€‹ã€Œ<strong>ICMP port unreachable</strong>ã€çš„è¨Šæ¯ï¼Œè€Œç•¶traceroute æ”¶åˆ°é€™å€‹è¨Šæ¯æ™‚ï¼Œä¾¿çŸ¥é“ç›®çš„åœ°å·²ç¶“åˆ°é”äº†ã€‚</li>
</ul>
</li>
<li>ç‚ºç”šéº¼tracerouteè¦ä½¿ç”¨å¤§æ–¼30000çš„port<ul>
<li>è·ŸUDPè¦å®športè™Ÿå¿…é ˆå°æ–¼30000æœ‰é—œ</li>
<li>è‹¥ä½¿ç”¨UDPå‰‡å¯èƒ½æœƒå› ç‚ºä¸»æ©Ÿæ²’æœ‰æä¾› UDP æœå‹™è€Œç°¡å–®å°‡å°åŒ…æ‹‹æ£„ï¼Œç„¶å¾Œä¸è¿”å›ä»»ä½•è³‡è¨Š</li>
<li>æ‰€ä»¥ä½¿ç”¨å¤§æ–¼30000çš„portï¼Œç›®æ¨™ä¸»æ©Ÿèƒ½åšçš„æ˜¯å°±æ˜¯è¿”å›ä¸€å€‹ <strong>portä¸å¯é”</strong> çš„å›æ‡‰</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://haway.30cm.gg/dns-1-basic/">ç”šéº¼æ˜¯FQDN(å®Œæ•´ç¶²åŸŸåç¨±?)</a><ul>
<li>åœ¨&#x2F;etc&#x2F;resolv.confä¸­ï¼Œæ²’æœ‰åŠ ä¸Šâ€.â€ çµå°¾çš„ä¸»æ©Ÿåç¨±ï¼Œéƒ½æœƒè¢«ç³»çµ±è‡ªå‹•é™„åŠ ç¶²åŸŸåç¨±</li>
<li>ç„¶å¾Œæª”æ¡ˆä¸­çš„<strong>search</strong> å°±æ˜¯å‘Šè¨´ç³»çµ±å¯ä»¥é™„åŠ ä»€éº¼æ¨£çš„ç¶²åŸŸåç¨±  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">domain rsync.tw</span><br><span class="line">nameserver 168.95.1.1 (cache server)</span><br><span class="line">nameserver 8.8.8.8  (cache server)</span><br><span class="line">search hdns.com.tw example.com</span><br></pre></td></tr></table></figure></li>
<li>ä¸Šæ–¹ç¯„ä¾‹ä¸­åªè¦è¼¸å…¥blogï¼Œç³»çµ±å°±æœƒè‡ªå‹•æ”¹ç‚ºblog.rsync.twä¸¦é€åˆ°168.95.1.1å»åšDNSè§£æï¼Œä½†å¦‚æœä¸æˆåŠŸå°±æœƒæ›æˆblog.hdns.com.twå†æ¬¡å˜—è©¦ï¼Œä»¥æ­¤é¡æ¨</li>
<li>è‹¥168.95.1.1çš„DNSæœå‹™ç„¡æ³•é€£ä¸Šï¼Œç³»çµ±å°±æœƒè‡ªå‹•è·³åˆ°ç¬¬äºŒç­†çš„8.8.8.8ä¼ºæœå™¨</li>
</ul>
</li>
<li>è¦æ€éº¼è¨­å®šDNS Cache Server?<ul>
<li>å»&#x2F;etc&#x2F;resolv.confæ›´æ”¹ nameserver</li>
</ul>
</li>
<li><strong>DNSæ¬Šå¨Serverä»¥åŠDNS Cache Serverå·®åˆ¥?</strong><ul>
<li>DNS Authoritative Server:æœƒå¾è‡ªå·±çš„è³‡æ–™åº«å–å‡ºDNSç´€éŒ„ä¸¦å›æ‡‰è«‹æ±‚</li>
<li>Cache Serverå‰‡æ˜¯å»è©¢å•å…¶ä»–ä¸»æ©Ÿçš„DNSè³‡æ–™</li>
</ul>
</li>
<li>DNSä¸­ç”šéº¼æ˜¯NS(Nameserver)ç´€éŒ„?<br>  <img src="https://i.imgur.com/YMAcJ1x.png"><ul>
<li>root serveræœƒå»è¨˜éŒ„æ¯å€‹å­ç¶²åŸŸçš„æˆæ¬Šä¸»æ©Ÿä½ç½®å°±æ˜¯é€éNS Record</li>
<li>NS Recordçš„ç”¨é€”æœ‰å…©å€‹:ä¸€å€‹æ˜¯å‘ä¸‹æˆæ¬Šã€ä¸€å€‹æ˜¯å¹³è¡Œæˆæ¬Š</li>
<li>å‘ä¸‹æˆæ¬Š: å»ºç«‹ä¸€å€‹å­ç¶²åŸŸ (EX. è·ŸServerå»ºç«‹ä¸€å€‹.twçš„å­ç¶²åŸŸ)ï¼Œä¸¦æˆæ¬Šçµ¦TWNICçš„ä¸»æ©Ÿ</li>
<li>å¹³è¡Œæˆæ¬Š: åŒå€‹ç¶²åŸŸåç¨±çš„æ‰€æœ‰NameServerï¼Œéƒ½å¿…é ˆæœ‰ç›¸åŒçš„NSç´€éŒ„<br>  <img src="https://i.imgur.com/9mo0lwG.png"></li>
<li>ä¸Šé¢å°±æ˜¯ ntpu.edu.tw å·²ç¶“æˆæ¬Šçµ¦å…­å°nameserverï¼Œé€™å…­å°çš„ntpu.edu.twçš„nsç´€éŒ„å¿…é ˆå®Œå…¨ä¸€æ¨£</li>
</ul>
</li>
<li>è¦æ€éº¼çŸ¥é“è‡ªå·±çš„DNSä¸»æ©Ÿç›®å‰æ­£å¼æˆæ¬Šåˆ°å“ªäº›ä¸»æ©Ÿä¸Šé¢?<ul>
<li>è³¼è²·ç¶²åŸŸåç¨±æ™‚å¾Œå¡«å¯«çš„Nameserverï¼Œè¨»å†Šå•†æœƒä¾ç…§æ‰€è¨»å†Šçš„åŸŸå</li>
<li>æŠŠä½ çš„nameserveré€çµ¦Registryï¼ŒRegistryç¢ºèªå¾Œå°±æœƒæŠŠä½ çš„ä¸»æ©Ÿè³‡æ–™æ”¾å…¥ä»–å€‘çš„ç´€éŒ„ä¸­</li>
<li>å°±æœƒç”¢ç”Ÿä¸€çµ„NSè³‡æ–™  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dig [domain] ns</span><br></pre></td></tr></table></figure></li>
<li>é€éä¸Šè¿°æŒ‡ä»¤ç¢ºèªç›®å‰NameServerè³‡æ–™æ˜¯å¦è·Ÿè¨»å†Šæ™‚å¡«å¯«ä¸€è‡´</li>
</ul>
</li>
<li>ç”šéº¼æ˜¯SOA Record?<ul>
<li>SOAç´€éŒ„æ˜¯<strong>ç¶²åŸŸåç¨±çš„ç³»çµ±ç®¡ç†ç´€éŒ„</strong></li>
<li>è‹¥ä½¿ç”¨ä»£ç®¡å‰‡ä¸éœ€è¦è™•ç†(CloudFlare, Gandi LiveDNS)</li>
<li>è‡ªæ¶çš„DNSä¸»æ©Ÿå‰‡æœƒéœ€è¦è¨­å®š</li>
<li>ä¸»è¦ä»£è¡¨è€…æœƒæ˜¯ç¶²åŸŸåç¨±çš„ç®¡ç†è€…ã€ç®¡ç†ä¸»æ©Ÿã€å€åŸŸæª”åºè™Ÿèˆ‡å…¨åŸŸæ€§çš„TTLè³‡æ–™</li>
</ul>
</li>
<li>ç”šéº¼æ˜¯A&#x2F;AAAAç´€éŒ„<ul>
<li>ç•¶è¦å°‡ç¶²åŸŸåç¨±å°æ‡‰åˆ°Serverçš„IPä½å€æ™‚ï¼Œå°±éœ€è¦ç”¨åˆ°Aç´€éŒ„</li>
<li>Aç´€éŒ„æŒ‡å‘åˆ°IPv4ä½å€</li>
<li>AAAAç´€éŒ„æŒ‡å‘åˆ°IPv6ä½å€  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ dig +short blog.rsync.tw a</span><br><span class="line">$ dig +short blog.rsync.tw aaaa</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>ç”šéº¼æ˜¯MXç´€éŒ„?<ul>
<li>é€™å€‹ç¶²åŸŸçš„mail serverç´€éŒ„</li>
<li>å¦‚æœæœ‰äººå¯„ä¿¡çµ¦ä½ ï¼Œéƒµä»¶ä¸»æ©Ÿæœƒå„ªå…ˆæŸ¥è©¢é€™å€‹ç¶²åŸŸåç¨±æœ‰æ²’æœ‰ MX ç´€éŒ„</li>
<li>å¦‚æœæœ‰ï¼Œå°±æœƒé€£ç·šåˆ°éƒµä»¶ä¸»æ©Ÿï¼Œå¦‚æœæ²’æœ‰ç‰¹åˆ¥è¨­å®š MX ç´€éŒ„</li>
<li>å¯„é€éƒµä»¶çš„ä¸»æ©Ÿæœƒå˜—è©¦è§£æç¶²åŸŸåç¨±çš„ A ç´€éŒ„</li>
<li>å¦‚æœæœ‰ A ç´€éŒ„ï¼Œå°±æœƒå˜—è©¦é€£ç·šä¸»æ©Ÿçš„éƒµä»¶ä¼ºæœå™¨ã€‚<br>  <img src="https://i.imgur.com/eQNw7LE.png"></li>
<li>ç•¶Domain Nameæœ‰MXç´€éŒ„ï¼Œmailä¸»æ©Ÿæœƒå˜—è©¦é€£ç·šmg.ntust.edu.tw</li>
<li>MXç´€éŒ„ä¸­å¯ä»¥è¨­å®šmail serverå„ªå…ˆé †åºï¼Œæ•¸å€¼è¶Šå°çš„å„ªå…ˆ</li>
<li>æ‰€ä»¥å¯„çµ¦ntust.edu.twçš„ä¿¡ï¼Œæœƒå„ªå…ˆé€çµ¦ mg.ntust.edu.tw</li>
<li>è‹¥æ²’æœ‰mxç´€éŒ„ï¼Œå‰‡æœƒé€çµ¦Domain Nameåç¨±çš„Aç´€éŒ„ï¼Œå³140.118.31.99<br>  <img src="https://i.imgur.com/rO5idoQ.png"></li>
</ul>
</li>
<li>ç”šéº¼æ˜¯CNAMEç´€éŒ„?<ul>
<li><strong>ä¸»æ©Ÿåç¨±çš„åˆ¥åçš„ä¸€ç¨®</strong>ï¼Œç•¶ä½ çš„ç›®çš„ä½å€æ˜¯ä¸»æ©Ÿåç¨±æ™‚ï¼Œè€Œä¸æ˜¯IPä½å€</li>
<li>é€™æ™‚å‰‡é ˆè¦ä½¿ç”¨CNAMEé€²è¡Œå°æ‡‰	</li>
<li>é™åˆ¶: åŒä¸€ç­†ç´€éŒ„åº•ä¸‹å¦‚æœæœ‰è¨­å®šCNAMEç´€éŒ„ï¼Œå°±ä¸èƒ½è¨­å®šå…¶ä»–ç´€éŒ„<ul>
<li>ç‚ºç”šéº¼?</li>
</ul>
</li>
<li>EX. <strong>è‹¥è¨­å®šæŸå€‹domainçš„CNAMEï¼Œå‰‡ä¸å¯è¨­å®šAã€MXã€TXTç­‰ç´€éŒ„</strong></li>
</ul>
</li>
<li>è‹¥æœ‰äººè¨­å®šæŸå€‹Domain Nameçš„CNAMEï¼Œä¾‹å¦‚æˆ‘è¨»å†Š HelloWorld.tw ç„¶å¾Œæƒ³è¦æŠŠç¶²é ç€è¦½è€…é€£åˆ°è·Ÿblog.HelloWorld.twä¸€æ¨£çš„ç¶²ç«™ï¼Œæ‰€ä»¥è¨­å®šäº†  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HelloWorld.tw  CNAME  blog.HelloWorld.tw</span><br></pre></td></tr></table></figure>
<ul>
<li>ä½†HelloWorld.twä¸€å®šå¸¶æœ‰SOAèˆ‡NSç´€éŒ„ï¼Œæœƒè·ŸCNAMEç”¢ç”Ÿè¡çªï¼Œæœƒé€ æˆç¶²åŸŸåç¨±é‹ä½œä¸ç©©å®šï¼Œæ‰€ä»¥è‹¥è¦å®Œæˆä¸€æ¨£çš„åŠŸèƒ½å¯ä»¥é€éç¶²é è·³è½‰çš„æ–¹å¼ä¾†å®Œæˆ</li>
</ul>
</li>
<li>å¯ä»¥è¬›è§£ä¸€ä¸‹ <code>dig</code> æŒ‡ä»¤æ€éº¼ä½¿ç”¨å—?ç”šéº¼æƒ…æ³ä¸‹ä½ æœƒç”¨åˆ°é€™å€‹æŒ‡ä»¤?.<ul>
<li>æ˜¯ä¸€ç¨®DNSé™¤éŒ¯å·¥å…·ï¼Œèƒ½å¤ æ¨¡æ“¬ä¸€èˆ¬é›»è…¦æŸ¥è©¢ã€éè¿´æŸ¥è©¢ã€ééè¿´æŸ¥è©¢ã€DNS å¿«å–ä¼ºæœå™¨æŸ¥è©¢ã€DNSSEC æŸ¥è©¢ã€TCP æŸ¥è©¢ç­‰ç­‰ã€‚</li>
<li><code>dig</code> çš„å›æ‡‰å€æ®µ<br>  <img src="https://i.imgur.com/kHAra1e.png"><ul>
<li>Header<br>  <img src="https://i.imgur.com/nr5u3aS.png"><ul>
<li>ID: ç´”æ•¸å­—ï¼ŒDNSæŸ¥è©¢çš„è­˜åˆ¥ç¢¼</li>
<li>QR:0æŸ¥è©¢ 1 å›æ‡‰</li>
<li>Opcode: 0 QUERY,1 IQUERY, 2 STATUS</li>
<li>AA: æ¬Šå¨ä¼ºæœå™¨å›æ‡‰</li>
<li>TC: æˆªæ–·</li>
<li>RD: ç”¨æˆ¶ç«¯æ˜¯å¦è¦æ±‚éè¿´æŸ¥è©¢</li>
<li>RA: ä¼ºæœå™¨å›æ‡‰æ˜¯æ”¯æ´éè¿´æŸ¥è©¢</li>
<li>Z: ä¿ç•™</li>
<li>RCODE: 0æ²’æœ‰éŒ¯èª¤ã€1-5 éŒ¯èª¤ä»£ç¢¼</li>
<li>QDCOUNT: Questionå€æ®µçš„è³‡æ–™æ•¸é‡</li>
<li>ANCOUNT: Answerå€æ®µçš„è³‡æ–™æ•¸é‡</li>
<li>NSCOUNT: Authorityå€æ®µçš„è³‡æ–™æ•¸é‡</li>
<li>ARCOUNT: Additionalå€æ®µçš„è³‡æ–™æ•¸é‡</li>
</ul>
</li>
<li>Question</li>
<li>Answer</li>
<li>Authority</li>
<li>Additional</li>
</ul>
</li>
<li><code>dig</code>çš„åƒæ•¸<ul>
<li><code>@server</code> æŒ‡å®šä¼ºæœå™¨ï¼Œ<strong>å°å“ªå°Serverç™¼å‡ºDNSæŸ¥è©¢ï¼Œè‹¥ä¸æŒ‡å®šå‰‡ä½¿ç”¨ç³»çµ±é è¨­</strong></li>
<li><code>+short</code> ç°¡ç•¥è¼¸å‡ºï¼Œåªé¡¯ç¤ºANSWERéƒ¨åˆ†ï¼Œè‹¥æ²’å›æ‡‰å‰‡é¡¯ç¤ºç©ºç™½</li>
<li><code>-4</code> åªä½¿ç”¨ IPv4ä½å€é€²è¡Œèˆ‡Serverçš„é€£ç·š</li>
<li><code>-6</code> åªä½¿ç”¨ IPv6ä½å€é€²è¡Œèˆ‡Serverçš„é€£ç·š</li>
<li><code>+tcp</code> ä½¿ç”¨TCPçš„æ–¹å¼èˆ‡DNS Serveré€£ç·š<ul>
<li><strong>DNSåŸç”Ÿæ˜¯ä½¿ç”¨ UDP&#x2F;53 å”å®š</strong>ï¼Œè‹¥æœ‰äººå¿˜è¨˜é–‹å•Ÿä¸»æ©Ÿæˆ–IPåˆ†äº«å™¨çš„é˜²ç«ç‰†</li>
<li>å‰‡æœƒé€é <code>+tcp</code> çš„æ–¹å¼å°‡DNSæŸ¥è©¢æ”¹ç‚ºTCPé€£ç·š</li>
<li>è‹¥ä¸€èˆ¬æŸ¥è©¢æ²’å›æ‡‰ï¼Œè€Œ<code>+tcp</code>æœƒéï¼Œå‰‡ä»£è¡¨é˜²ç«ç‰†æ²’æœ‰é–‹å•Ÿ</li>
</ul>
</li>
<li><code>cdflag</code> ç”¨æ–¼é—œé–‰DNSSECæŸ¥è©¢<ul>
<li>DNSSECæ˜¯ä¸€ç¨®DNSçš„å»¶ä¼¸å®‰å…¨å”å®šï¼Œå¯ä»¥ç¢ºä¿DNSç´€éŒ„ç„¡æ³•è¢«å½é€ (é€éé›»å­ç°½ç« çš„æ–¹å¼)</li>
<li>è‹¥DNSSECç®¡ç†ä¸ç•¶å‰‡æœƒé€ æˆDNSSECé©—è­‰å¤±æ•—</li>
<li>æœƒç™¼ç”Ÿä¸ç©©å®šçš„DNSè§£æ</li>
<li>æ­¤æ™‚å¯ä»¥é€éæ­¤åƒæ•¸å°‡å…¶é—œé–‰</li>
<li>è‹¥ä¸€èˆ¬æŸ¥è©¢æ²’å›æ‡‰ï¼Œä½†+cdflagå¾Œæœ‰æ­£ç¢ºå›æ‡‰ï¼Œå‰‡ä»£è¡¨DNSSECå£æ‰</li>
</ul>
</li>
</ul>
</li>
<li>æŒ‡ä»¤ç¯„ä¾‹  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥è©¢å¿«å–Serverçš„Aç´€éŒ„</span><br><span class="line">$ dig @8.8.8.8 blog.rsync.tw. a</span><br><span class="line"># æŸ¥è©¢Domain Nameçš„MX</span><br><span class="line">$ dig rsync.tw mx</span><br><span class="line"># æŸ¥è©¢Domain Nameè² è²¬äºº</span><br><span class="line">$ dig rsync.tw soa</span><br><span class="line"># è¿½è¹¤æ¨¡å¼</span><br><span class="line">$ dig +trace blog.rsync.tw a</span><br><span class="line"># tcpæŸ¥è©¢æ¨¡å¼</span><br><span class="line">$ dig +tcp blog.rsync.tw a</span><br><span class="line"># æŸ¥è©¢IPåè§£  = nslookup &lt;IP&gt;</span><br><span class="line">$ dig -x 8.8.8.8 ptr</span><br><span class="line"># é—œé–‰DNSSECæŸ¥è©¢</span><br><span class="line">$ dig +cdflag @8.8.8.8 blog.rsync.tw a</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>DNS Troubleshooting<ul>
<li>step 1 : æŸ¥è©¢NSä½å€<ul>
<li>åœ¨ä½ ä½œ dig é™¤éŒ¯é–‹å§‹ä¹‹å‰ï¼Œé¦–å…ˆä½ è¦ç¢ºèªç¶²åŸŸåç¨±çš„åç¨±ä¼ºæœå™¨(NameServer) ä½å€ï¼Œå› ç‚ºæ‰€æœ‰å›æ‡‰éƒ½ä¸€å®šå¾åç¨±ä¼ºæœå™¨å›æ‡‰ï¼Œæ‰€æœ‰ä½¿ç”¨Domain Name Registryæˆ–æ˜¯Cloudfareä¹‹é¡çš„æœå‹™å‰‡NameServeræœƒæ˜¯é€™äº›æ¥­è€…ï¼Œä¹Ÿæœ‰æ˜¯è¨»å†Šæ™‚å¡«å¯«çš„NameServeræ¬„ä½è³‡æ–™  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dig +short rsync.tw ns</span><br></pre></td></tr></table></figure></li>
<li>å¯çœ‹å‡ºNameServeræ˜¯å“ªå¹¾å°(DNSç´€éŒ„ç”±å“ªå¹¾å°è² è²¬)</li>
<li>æˆ–æ˜¯ç”±æ·ºå…¥æ·±å¾è¼ƒé«˜å±¤çš„DNS ServeræŸ¥ä¸‹ä¾†  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dig +short tw ns</span><br></pre></td></tr></table></figure>
  <img src="https://i.imgur.com/4t141yp.png">  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dig +short @a.dns.tw edu.tw ns</span><br></pre></td></tr></table></figure>
  <img src="https://i.imgur.com/EZmwnTT.png">  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dig +short  @moestar.edu.tw [target domain name] ns</span><br></pre></td></tr></table></figure></li>
<li>ç‚ºä½•ä¸ç›´æ¥ dig +short ntust.edu.tw ?<br>  <img src="https://i.imgur.com/6miPWp1.png"><ul>
<li>å› ç‚ºé€™æ¨£æœƒé€éç³»çµ±Cache Serverå»æŸ¥è©¢DNS NSç´€éŒ„</li>
</ul>
</li>
</ul>
</li>
<li>å¯èƒ½ç™¼ç”Ÿçš„æƒ…æ³:<ul>
<li>ç©ºçš„ã€æ²’å›æ‡‰<ul>
<li>å¦‚æœä½ åœ¨æŸ¥è©¢ NS çš„æ™‚å€™å‡ºç¾éŒ¯èª¤ï¼Œæˆ–æ˜¯ç™¼ç¾æœ‰å›æ‡‰ï¼Œä½†æ˜¯æ²’æœ‰è³‡æ–™</li>
<li>å¯èƒ½æƒ…æ³-1: NameServerå¡«éŒ¯ï¼Œè«‹Domain Name Registryæª¢æŸ¥</li>
<li>å¯èƒ½æƒ…æ³-2: ç¶²é‡åˆ°æœŸæ²’ç¹³éŒ¢ï¼Œæˆ–ç‹€æ³æœ‰å•é¡Œ(é€é<code>Whois</code> æŒ‡ä»¤ä¾†æŸ¥çœ‹)</li>
</ul>
</li>
<li>NameServeræ˜¯Public DNS<ul>
<li>æœ‰äººæœƒæŠŠPublic DNSä»¥ç‚ºæ˜¯NameServerï¼Œå°±æŠŠ8.8.8.8å¡«å…¥nameserveré‚£é‚Šï¼Œä½†é€™æ¨£æ˜¯ä¸å°çš„</li>
</ul>
</li>
<li>è·Ÿä½ å¡«çš„è³‡æ–™ä¸åŒ<ul>
<li>Domain Name Registryæ²’æœ‰å°‡ä½ çš„åç¨±æ›´æ–°åˆ°åŸŸåç®¡ç†å±€æˆ–æ˜¯ä½ å‰›å¥½æ›´æ›NameServerä¸­</li>
</ul>
</li>
</ul>
</li>
<li>Step 2 : ç›´æ¥æŸ¥è©¢Name Serverçš„è³‡æ–™<ul>
<li>ç¢ºèªNSä½å€å¾Œï¼Œæ¥ä¸‹ä¾†å°Name Serveré€å‡ºæŸ¥è©¢</li>
<li>æŸ¥è©¢ä½ è¦è§£æçš„åŸŸåï¼Œç¨±ä¼ºæœå™¨å›æ‡‰çš„è³‡æ–™æ‡‰è©²æ˜¯æœ€æ–°ã€æœ€å®Œæ•´çš„ï¼Œæ‰€ä»¥ä½ è¦çŸ¥é“ç´€éŒ„æ›´æ–°äº†æ²’ã€è§£æåˆ°åº•æ­£ä¸æ­£ç¢ºï¼Œéƒ½æ˜¯é€éç›´æ¥æŸ¥è©¢åç¨±ä¼ºæœå™¨ä¾†ç²å¾—è§£ç­”ã€‚<br>  <img src="https://i.imgur.com/MHvHAb6.png"></li>
</ul>
</li>
<li>å¯èƒ½ç™¼ç”Ÿçš„å•é¡Œ-2:<ul>
<li>NameServeråŒæ­¥ä¸ä¸€è‡´<ul>
<li>ç¢ºä¿æ¯å°NameServerå›æ‡‰è³‡æ–™éƒ½æ˜¯æ­£ç¢ºçš„</li>
</ul>
</li>
<li>NameServerç„¡å›æ‡‰<ul>
<li>ä»£è¡¨NameServerçš„DNSæœå‹™æœ‰å•é¡Œ</li>
<li>å¯èƒ½DNSæœå‹™æ²’å•Ÿç”¨æˆ–æ©Ÿå™¨æœ‰å•é¡Œ</li>
<li>å¯ä»¥pingä¸€ä¸‹NameServerï¼Œå¦‚æœæœ‰å›æ‡‰å°±æ˜¯DNSæœå‹™çš„å•é¡Œ</li>
<li>å‰‡å¯é€é <code>dig +tcp</code>ä¾†æª¢æŸ¥æ˜¯ä¸æ˜¯é˜²ç«ç‰†çš„å•é¡Œ</li>
<li>è‹¥æœ‰å›æ‡‰å‰‡è¦æœå‘é˜²ç«ç‰†çš„å•é¡Œå»è§£æ±º  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#æŸ¥è©¢Name Serverå›æ‡‰ï¼Œå¯ä»¥æŸ¥è©¢SOAï¼Œå› ç‚ºä¸€å®šæœ‰é€™ç­†ç´€éŒ„</span><br><span class="line">$ dig @(NS IP) (domain) soa</span><br><span class="line">#å¦‚æœæ²’å›æ‡‰ï¼Œpingçœ‹çœ‹æ˜¯ä¸æ˜¯ä¸»æ©Ÿæˆ–ç¶²è·¯å•é¡Œ</span><br><span class="line">$ ping (NS IP)</span><br><span class="line"># å¦‚æœpingæœ‰å›æ‡‰ï¼Œå‰‡æ”¹ç”¨+tcp ä¾†æª¢æŸ¥æ˜¯ä¸æ˜¯é˜²ç«ç‰†å•é¡Œ</span><br><span class="line">$ dig +tcp @(NS IP) (domain) soa</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
<li>Step 3 : æª¢æŸ¥Authority Serverå›ç­”<ul>
<li>nameserveré€šå¸¸æ˜¯ç”±ä¸Šå¾€ä¸‹æˆæ¬Š<ul>
<li>ex. rsync.tw nameserveræ˜¯ç”±.twå¾€ä¸‹æˆæ¬Šåˆ° ns[1-3].gandi.netçš„nameserverçš„</li>
</ul>
</li>
<li>æˆæ¬Šä¸ä¸€å®šæ­£ç¢º(å…¶å¯¦æ˜¯ä½¿ç”¨è€…è‡ªå·±å¡«çš„ï¼Œå¯èƒ½æœƒå¡«éŒ¯)ï¼Œä¸Šå±¤ä¾ç…§ä½¿ç”¨è€…è¼¸å…¥çš„è³‡æ–™ç›´æ¥è®ŠæˆNameServer</li>
<li>æ­£ç¢ºæˆæ¬Š:<ul>
<li><ol>
<li>ç”±ä¸Šå°ä¸‹æ­£ç¢ºæˆæ¬Š</li>
</ol>
</li>
<li><ol start="2">
<li>ä¼ºæœå™¨å…·å‚™æ¬Šå¨ä¼ºæœå™¨çš„å›ç­”  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ dig @ns1.gandi.net rsync</span><br><span class="line"></span><br><span class="line"># response</span><br><span class="line">; &lt;&lt;&gt;&gt; DiG 9.10.3-P4-Ubuntu &lt;&lt;&gt;&gt; @ns1.gandi.net rsync.tw a</span><br><span class="line">; (2 servers found)</span><br><span class="line">;; global options: +cmd</span><br><span class="line">;; Got answer:</span><br><span class="line">;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 45858</span><br><span class="line">;; flags: qr aa rd; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1</span><br><span class="line">;; WARNING: recursion requested but not available</span><br><span class="line">...omit...</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
</li>
<li>ä¸ä½¿ç”¨ +short åƒæ•¸ï¼Œå°±å¯ä»¥çœ‹åˆ°Headeréƒ¨åˆ†ï¼Œå¯ä»¥çœ‹Headerä¸­çš„<strong>AA Flag</strong> </li>
<li>å›æ‡‰ä¸­ï¼Œæœ‰ä¸€å€‹ â€œflags: qr aa rd;â€ï¼Œaa &#x3D; AA å°±æ˜¯æ¬Šå¨ä¼ºæœå™¨å›ç­”çš„æ„æ€</li>
<li>ä»£è¡¨é€™å°ServerçŸ¥é“è‡ªå·±ç®¡ç†äº†æ­¤ç¶²åŸŸï¼Œæ‰€ä»¥å¾å€åŸŸæª”ä¸­çš„è³‡æ–™å›æ‡‰çµ¦æŸ¥è©¢ç«¯</li>
<li>å°Public DNSæŸ¥è©¢å‰‡ä¸æœƒæœ‰é€™å€‹AA Flag</li>
<li>è€Œè‹¥æ˜¯å°Name ServeræŸ¥è©¢è€Œæ²’æœ‰AAï¼Œå‰‡ä»£è¡¨ç®¡ç†å“¡æ²’æœ‰æ­£ç¢ºè¨­å®šServer</li>
</ul>
</li>
<li>Step 4 : æŸ¥è©¢Cache Server(Public DNS)<ul>
<li>æœ€å¾Œä¸€æ­¥å°±æ˜¯è¦æŸ¥è©¢å¿«å–ä¼ºæœå™¨çš„å›æ‡‰è³‡æ–™ï¼Œçœ‹çœ‹æ˜¯å¦æ­£ç¢ºï¼Œä¸€èˆ¬æ‰€æœ‰çš„ç”¨æˆ¶é›»è…¦éƒ½æœƒé€éå¿«å–ä¼ºæœå™¨ (è­¬å¦‚8.8.8.8ã€168.95.1.1) å–å¾— DNS çš„è³‡æ–™ï¼Œæ‰€ä»¥æˆ‘å€‘è¦æ¸¬è©¦ä¸€ä¸‹æ˜¯å¦æ­£ç¢ºï¼š  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dig @8.8.8.8 www.rsync.tw a</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>å¯èƒ½ç™¼ç”Ÿçš„å•é¡Œ-4<ul>
<li>æŸ¥è©¢åˆ°èˆŠè³‡æ–™<ul>
<li>DNS æœ‰TTLæš«å­˜æ™‚é–“	</li>
<li>æš«å­˜æ™‚é–“å…§ï¼Œéƒ½æœƒä¿ç•™è³‡æ–™ç›´åˆ°TTL(ç§’)æ™‚é–“éå»</li>
<li>é€™æ™‚éœ€è¦ç¢ºèªæ¯å€‹Authority Serverçš„æŸ¥è©¢æ˜¯å¦éƒ½æ˜¯æœ€æ–°è³‡æ–™</li>
</ul>
</li>
<li>è§£æå¤±æ•ˆNXDOMAIN<ul>
<li>è‹¥ä¸Šè¿°æŸ¥è©¢éç¨‹ä¸­éƒ½æ²’å•é¡Œï¼Œä½†Public DNSé€™äº›å¿«å–Serverå»æ²’åæ‡‰</li>
<li>å¯èƒ½æ˜¯ DNSSECå£æ‰äº†</li>
<li>æ­¤æ™‚éœ€è¦æ‰¾ä½ çš„Domain Nameçš„è¨»å†Šå•†å»å–æ¶ˆä½ çš„DNSKEYé‡‘é‘°</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>[DNSSECå£æ‰æœƒç™¼ç”Ÿç”šéº¼äº‹?è©²æ€éº¼ä¿®å¾©]<a target="_blank" rel="noopener" href="https://haway.30cm.gg/dnssec-broken/">(https:&#x2F;&#x2F;</a>)?<ul>
<li>ç¾è±¡:<ul>
<li>å¯èƒ½å°±åªæœ‰é€éæˆæ¬Šçµ¦ä½ çš„domainçš„æ¬Šå¨DNS Serverèƒ½å¤ æŸ¥è©¢åˆ°ä½ çš„Aç´€éŒ„</li>
<li>ä½†ä½ å¦‚æœæŸ¥è©¢Public DNS Server(ex. 8.8.8.8)ä¸­Açš„ä½ çš„domainçš„Aç´€éŒ„å¯èƒ½è—‰æœƒå ±éŒ¯</li>
</ul>
</li>
<li>æª¢æŸ¥: <ul>
<li>é€™æ™‚å¯ä»¥é€é åŠ ä¸Š <code>+cdflag</code> åƒæ•¸ä¾†è®“DNS Cache Serveré—œé–‰DNSSECé©—è­‰</li>
<li><code>cdflag</code> å°±æ˜¯å‘Šè¨´8.8.8.8ï¼Œé€™å€‹DNSæŸ¥è©¢ä¸éœ€è¦é€²è¡ŒDNSSECé©—è­‰</li>
</ul>
</li>
<li>å¯èƒ½åŸå› :<ul>
<li>è‹¥ä½¿ç”¨äº†æŸå€‹åŸŸåä»£ç®¡æœå‹™ï¼Œä¸¦é–‹å•Ÿäº†DNSSEC</li>
<li>ä½†å¾ŒçºŒåˆå°‡Nameserverè®Šæ›´ï¼Œé€™å°‡æœƒå°è‡´DNSSEC Chain é©—è­‰å¤±æ•—</li>
<li>å› ç‚ºDNSKEYæ²’æœ‰è¢«ç§»è½‰(æ–°çš„Name Serverä¸­æ²’æœ‰DNSKEY)ï¼Œå‰‡æœƒå°è‡´é©—è­‰å¤±æ•—</li>
</ul>
</li>
<li>è§£æ±ºæ–¹å¼: <ul>
<li>æˆ–æ˜¯ä½¿ç”¨åŸŸåè¨»å†Šå•†æä¾›çš„ä»‹é¢ä¸¦é—œé–‰DNSSECçš„åŠŸèƒ½</li>
<li>æˆ–æ˜¯åœ¨æ–°çš„NameServerä¸Šé‡æ–°ç°½ç½²DNSSECï¼Œç„¶å¾Œæ›´æ–°DNSKEY</li>
</ul>
</li>
</ul>
</li>
<li>åœ¨LINUXä¸­å¦‚ä½•é–‹å•ŸDNSSEC?<ul>
<li>å¯ä¿®æ”¹ &#x2F;etc&#x2F;systemd&#x2F;resolv.confä¸­çš„DNSSECè¨­å®šå€¼</li>
</ul>
</li>
<li>åœ¨&#x2F;etc&#x2F;resolv.confä¸­è¨­å®šçš„nameserverè¢«é‡ç½®æ€éº¼è¾¦?<ul>
<li>é€é symbolic linkæŒ‡å‘ &#x2F;etc&#x2F;systemd&#x2F;resolv.conf  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd /etc</span><br><span class="line">$ rm resolv.conf</span><br><span class="line">$ ln -s /run/systemd/resolve/resolv.conf resolv.conf</span><br></pre></td></tr></table></figure></li>
<li>ç›´æ¥ä¿®æ”¹ &#x2F;etc&#x2F;systemd&#x2F;resolv.conf ä¸­çš„DNSä½å€</li>
</ul>
</li>
<li>ä½ æœƒå»æ€éº¼è™•ç†Linuxä¸­Processçš„OOMå•é¡Œ?</li>
<li>ç”šéº¼æ˜¯<strong>OOM Killer</strong>?<ul>
<li>Linuxä¸­è² è²¬ç›£æ§é‚£äº›å ç”¨memoryéå¤§ï¼Œå°¤å…¶æ˜¯ç¬é–“å¾ˆå¿«æ¶ˆè€—å¤§é‡memoryçš„process</li>
<li>ç‚ºäº†é˜²æ­¢memoryè€—ç›¡è€ŒkernelæœƒæŠŠè©²process killæ‰</li>
<li>æœ‰æ™‚å€™SSHä¸åˆ°æ©Ÿå™¨ï¼Œä½†èƒ½ ping é€šï¼Œèªªæ˜ä¸æ˜¯ç¶²çµ¡çš„æ•…éšœï¼Œå¾ˆå¤šåŸå› æ˜¯ sshd processè¢« OOM killer æ®ºæ‰äº†</li>
<li>Kernelæœƒé€šéç‰¹å®šçš„æ¼”ç®—æ³•çµ¦æ¯å€‹processè¨ˆç®—ä¸€å€‹åˆ†æ•¸ä¾†æ±ºå®šæ®ºå“ªå€‹process</li>
<li>æ¯å€‹processçš„ OOM åˆ†æ•¸å¯ä»¥åœ¨ã€Œ**&#x2F;proc&#x2F;PID&#x2F;oom_score**ã€ä¸­æ‰¾åˆ°</li>
<li>é‡å•Ÿæ©Ÿå™¨å¾ŒæŸ¥çœ‹ç³»çµ±æ—¥èªŒã€Œ**&#x2F;var&#x2F;log&#x2F;messages**ã€æœƒç™¼ç¾ã€ŒOut of Memory: Kill process 1865ï¼ˆsshdï¼‰ã€é¡ä¼¼çš„éŒ¯èª¤è¨Šæ¯</li>
<li><code>echo -17 /proc/PID/oom_adj</code> ä¾†è§£æ±ºé€™å€‹å•é¡Œ<ul>
<li>å¯èª¿ç¯„åœ: 15~ -16</li>
<li>-17æ˜¯ç¦ç”¨</li>
</ul>
</li>
<li>æˆ–æ˜¯ä¿®æ”¹Kernelåƒæ•¸:  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sysctl -w vm.panic_on_oom=1 (é è¨­ç‚º0)</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><code>kill -9</code> èˆ‡ <code>kill -15</code> å·®åˆ¥åœ¨å“ª?é€çš„signalæ˜¯ç”šéº¼?  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ kill PID</span><br><span class="line"># è¨Šè™Ÿ: SIGKILL</span><br><span class="line">$ kill -9 PID //ç«‹å³å¼·åˆ¶åœæ­¢ç¨‹å¼åŸ·è¡Œ</span><br><span class="line"># è¨Šè™Ÿ: SIGTERM</span><br><span class="line">$ kill -15 PID //ä»¥æ­£å¸¸ç¨‹åºé€šçŸ¥ç¨‹å¼åœæ­¢åŸ·è¡Œï¼Œé è¨­çš„è¨Šè™Ÿ</span><br><span class="line">$ kill -l åˆ—å‡ºæ‰€æœ‰å¯ç”¨è¨Šè™Ÿ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
  <img src="https://i.imgur.com/1INBiak.png"></li>
<li>æ€éº¼æŸ¥è©¢killæŒ‡ä»¤ä¸­å“ªå€‹è¨Šè™Ÿå°æ‡‰ç”šéº¼æ•¸å­—<ul>
<li><code>$ kill -l &lt;æ•¸å­—&gt;</code></li>
</ul>
</li>
<li>å¯ä»¥è§£é‡‹ä¸€ä¸‹ <code>ss</code>æŒ‡ä»¤çš„ä½¿ç”¨æ™‚æ©Ÿå—?<ul>
<li>å¯ä»¥è¼¸å‡ºæ‰€æœ‰å·²ç¶“å»ºç«‹çš„ TCP é€£ç·š</li>
<li>ss æŒ‡ä»¤å¯ä»¥è‡ªå·±æŒ‡å®šç¯©é¸å™¨ï¼ˆfilterï¼‰ï¼Œç¯©é¸å‡ºè‡ªå·±éœ€è¦çš„ sockets è³‡è¨Š:  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># åˆ—å‡ºå¾æœ¬æ©Ÿé€£ç·šåˆ° 192.168.0.1 é€™å°ä¸»æ©Ÿçš„æ‰€æœ‰é€£ç·šï¼š</span><br><span class="line">$ ss -o state established dst 192.168.0.1</span><br><span class="line"># åˆ—å‡ºå¾æœ¬æ©Ÿé€£ç·šåˆ° 192.168.0.1 ä¸»æ©Ÿ 80 é€£æ¥åŸ çš„æ‰€æœ‰é€£ç·š</span><br><span class="line">$ ss -o state established dst 192.168.0.1:80</span><br><span class="line"># åˆ—å‡ºä¾†è‡ªæ–¼ 192.168.0.2 é€™å°ä¸»æ©Ÿçš„æ‰€æœ‰é€£ç·šï¼š</span><br><span class="line">$ ss -o state established src 192.168.0.2</span><br><span class="line"># åˆ—å‡ºæ‰€æœ‰ ssh çš„é€£ç·šï¼ŒåŒ…å«å¾æœ¬æ©Ÿå¾€å¤–çš„ ssh é€£ç·šï¼Œä»¥åŠå¾å¤–é¢é€£ç·šé€²ä¾†çš„ ssh é€£ç·šï¼š</span><br><span class="line">$ ss -o state established &#x27;( dport = :ssh or sport = :ssh )&#x27;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li>åœ¨Linuxä¸­å¦‚ä½•åˆ—å‡ºæœå‹™?<ul>
<li>å» &#x2F;etc&#x2F;init.d æŸ¥çœ‹</li>
<li>æˆ– <code>systemctl list-units --type service -all</code></li>
<li><code>sudo systemctl | grep running</code></li>
<li><code>service --status-all</code></li>
</ul>
</li>
<li>å¦‚ä½•æŸ¥çœ‹å·²å»ºç«‹çš„sockets<ul>
<li><code>systemctl list-sockets</code></li>
<li><code>netstat</code></li>
<li><code>ss</code></li>
</ul>
</li>
</ul>
<h2 id="app-æª¢æ¸¬"><a href="#app-æª¢æ¸¬" class="headerlink" title="app æª¢æ¸¬"></a>app æª¢æ¸¬</h2><p><a target="_blank" rel="noopener" href="https://www.mas.org.tw/spaw2/uploads/files/20190916/AppV3.1.pdf">https://www.mas.org.tw/spaw2/uploads/files/20190916/AppV3.1.pdf</a></p>
<h2 id="Windows-Admin"><a href="#Windows-Admin" class="headerlink" title="Windows Admin"></a>Windows Admin</h2><ul>
<li>å®‰å…¨æ€§è¨­å®š<ul>
<li>è‹¥è¦ä½¿ç”¨ Local å®‰å…¨æ€§åŸå‰‡ä¸»æ§å°è¨­å®šè¨­å®š:<ul>
<li>win+R</li>
<li><code>secpol.msc</code></li>
<li>åœ¨ä¸»æ§å°è¨­å®šå®‰å…¨æ€§å‘½ä»¤ä¸‹ï¼ŒåŸ·è¡Œä¸‹åˆ—å…¶ä¸­ä¸€é …æ“ä½œï¼š<ul>
<li>æŒ‰ä¸€ä¸‹ [å¸³æˆ¶æ”¿ç­– &gt; ä»¥ç·¨è¼¯ <strong>å¯†ç¢¼æ”¿ç­–</strong> æˆ– <strong>å¸³æˆ¶é–å®šæ”¿ç­–</strong></li>
<li>æŒ‰ä¸€ä¸‹ [æœ¬åœ°åŸå‰‡ ä»¥ç·¨è¼¯ <strong>ç¨½æ ¸åŸå‰‡</strong>ã€<strong>ä½¿ç”¨è€…</strong> <strong>è¨±å¯æ¬ŠæŒ‡æ´¾</strong>æˆ– <strong>å®‰å…¨æ€§é¸é …</strong></li>
</ul>
</li>
</ul>
</li>
<li>è‹¥è¦ä½¿ç”¨æœ¬æ©Ÿç¾¤çµ„ç­–ç•¥ç·¨è¼¯å™¨ä¸»æ§å°è¨­å®šå®‰å…¨æ€§åŸå‰‡è¨­å®š<ul>
<li>win +R</li>
<li><code>gpedit.msc</code></li>
<li>åœ¨ä¸»æ§å°æ¨¹ç‹€æ¨¹ä¸­ï¼ŒæŒ‰ä¸€ä¸‹ [é›»è…¦çµ„Windows è¨­å®š ï¼Œç„¶å¾ŒæŒ‰ä¸€ä¸‹[å®‰å…¨æ€§è¨­å®šã€‚</li>
<li>åŸ·è¡Œä¸‹åˆ—å…¶ä¸­ä¸€é …ï¼š<ul>
<li>æŒ‰ä¸€ä¸‹ [å¸³æˆ¶æ”¿ç­– &gt; ä»¥ç·¨è¼¯ å¯†ç¢¼æ”¿ç­– æˆ– å¸³æˆ¶é–å®šæ”¿ç­–ã€‚</li>
<li>æŒ‰ä¸€ä¸‹ [æœ¬åœ°åŸå‰‡ ä»¥ç·¨è¼¯ ç¨½æ ¸åŸå‰‡ã€ä½¿ç”¨è€… è¨±å¯æ¬ŠæŒ‡æ´¾æˆ– å®‰å…¨æ€§é¸é …ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ç¶²é æ¸¬è©¦"><a href="#ç¶²é æ¸¬è©¦" class="headerlink" title="ç¶²é æ¸¬è©¦"></a>ç¶²é æ¸¬è©¦</h2><ul>
<li><p>æœ‰åšéç¶²é å–®å…ƒæ¸¬è©¦å—?<br>  ä¸»è¦æ¶è¨­å°å‹çš„Flask Web Server<br>  ç„¶å¾Œæœ‰è‡ªå·±å»ºç«‹å°å‹çš„æ¸¬è©¦ç”¨çš„æœå‹™<br>  <em>test_api.py</em></p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import flask</span><br><span class="line">import json</span><br><span class="line">from flask import request</span><br><span class="line"></span><br><span class="line">server = flask.Flask(__name__)</span><br><span class="line">@server.route(&#x27;/login&#x27;, methods=[&#x27;get&#x27;, &#x27;post&#x27;])</span><br><span class="line">def login():</span><br><span class="line">	username = request.values.get(&#x27;name&#x27;)</span><br><span class="line">	pwd = request.values.get(&#x27;pwd&#x27;)</span><br><span class="line">	if username and pwd:</span><br><span class="line">		if username == &#x27;xiaoming&#x27; and pwd == &#x27;111&#x27;:</span><br><span class="line">			resu = &#123;&#x27;code&#x27;: 200, &#x27;message&#x27;: &#x27;Login Success&#x27;&#125;</span><br><span class="line">			return json.dumps(resu, ensure_ascii=False) </span><br><span class="line">		else:</span><br><span class="line">			resu = &#123;&#x27;code&#x27;: -1, &#x27;message&#x27;: &#x27;Login Failed&#x27;&#125;</span><br><span class="line">			return json.dumps(resu, ensure_ascii=False)</span><br><span class="line">	else:</span><br><span class="line">		resu = &#123;&#x27;code&#x27;: 10001, &#x27;message&#x27;: &#x27;Parameter cannot be empty&#x27;&#125;</span><br><span class="line">		return json.dumps(resu, ensure_ascii=False)</span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">	server.run(debug=True, port=8888, host=&#x27;127.0.0.1&#x27;)</span><br></pre></td></tr></table></figure>
<p>  <img src="https://i.imgur.com/3UFNrTT.png"><br>  <em>config.ini</em></p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">[HTTP]</span><br><span class="line">scheme = http</span><br><span class="line">baseurl = 127.0.0.1</span><br><span class="line">port = 8888</span><br><span class="line">timeout = 10.0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[EMAIL]</span><br><span class="line">on_off = on;</span><br><span class="line">subject = Auto testing Report</span><br><span class="line">app = Outlook</span><br><span class="line">addressee = M10909302@gmail.com</span><br></pre></td></tr></table></figure>
<p>  <em>getpathInfo.py</em></p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">def get_Path():</span><br><span class="line">	path = os.path.split(os.path.realpath(__file__))[0]</span><br><span class="line">	return path</span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">	print(&#x27;æµ‹è¯•è·¯å¾„æ˜¯å¦OK,è·¯å¾„ä¸ºï¼š&#x27;, get_Path())</span><br></pre></td></tr></table></figure>
<p>  åŸ·è¡Œçµæœ<br>  <img src="https://i.imgur.com/SOJEwRf.png"></p>
<p>  <em>readConfig.py</em></p>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import configparser</span><br><span class="line">import getpathInfo </span><br><span class="line"></span><br><span class="line">path = getpathInfo.get_Path()</span><br><span class="line">config_path = os.path.join(path, &#x27;config.ini&#x27;)</span><br><span class="line">config = configparser.ConfigParser()</span><br><span class="line">config.read(config_path, encoding=&#x27;utf-8&#x27;)</span><br><span class="line"></span><br><span class="line">class ReadConfig():</span><br><span class="line"></span><br><span class="line">	def get_http(self, name):</span><br><span class="line">		value = config.get(&#x27;HTTP&#x27;, name)</span><br><span class="line">		return value</span><br><span class="line">	def get_email(self, name):</span><br><span class="line">		value = config.get(&#x27;EMAIL&#x27;, name)</span><br><span class="line">		return value</span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">	print(&#x27;The Baseurl Value in HTTP isï¼š&#x27;, ReadConfig().get_http(&#x27;baseurl&#x27;))</span><br><span class="line">	print(&#x27;The on_off value in EMAIL is: &#x27;, ReadConfig().get_email(&#x27;on_off&#x27;</span><br></pre></td></tr></table></figure>
<p>  <img src="https://i.imgur.com/KyVjXZL.png"></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://itpcb.com/a/1297735">https://itpcb.com/a/1297735</a></p>
</blockquote>
</li>
</ul>
<h2 id="RESTFUL-API"><a href="#RESTFUL-API" class="headerlink" title="RESTFUL API"></a>RESTFUL API</h2><ul>
<li>è«‹å•ä½ å°æ–¼RESTFul Webæœå‹™çš„ç†è§£æ˜¯ç”šéº¼?<ul>
<li>RESTFul Web Serviceå°±æ˜¯éµå¾ªRESTé¢¨æ ¼çš„Webæœå‹™æ¶æ§‹</li>
<li>REST(Representational State Transfer)ä¸¦ä½¿ç”¨HTTPä¾†å¯¦è¸</li>
</ul>
</li>
<li>ç”šéº¼æ˜¯REST Resource?<ul>
<li>æ¯å€‹åœ¨RESTæ¶æ§‹åº•ä¸‹çš„å…§å®¹éƒ½ç®—æ˜¯ä¸€ç¨®è³‡æºï¼Œé€™ç¨®è³‡æºæœ‰é»åƒæ˜¯OOPå…§çš„Object</li>
<li>è³‡æºå¯ä»¥æ˜¯testæª”ã€HTMLé é¢ã€åœ–ç‰‡æˆ–æ˜¯å…¶ä»–å‹•æ…‹è³‡æº</li>
<li>REST Serveræä¾›å°æ–¼é€™äº›è³‡æºçš„å­˜å–ï¼Œä¸¦ä½¿Clientå¯ä»¥ä½¿ç”¨é€™äº›è³‡æº</li>
<li>æ¯é …è³‡æºéƒ½é€éURIä¾†åšæ¨™èªŒ</li>
</ul>
</li>
<li>ç”šéº¼æ˜¯URI?<ul>
<li>Uniform Resource Identidierç”¨æ–¼åœ¨RESTæ¶æ§‹ä¸­æ¨™èªŒè³‡æº</li>
<li><code>&lt;protocol&gt;://&lt;service-name&gt;/&lt;ResourceType&gt;/&lt;ResourceID&gt;</code></li>
<li>å…©ç¨®ç¨®é¡çš„URI: <code>URN</code>ã€<code>URL</code></li>
<li><strong>URN</strong>: Uniform Resource Name<ul>
<li>é€éä¸€å€‹ç¨ç‰¹ä¸”æŒä¹…çš„åç¨±ä¾†æ¨™ç¤ºè³‡æº</li>
</ul>
</li>
<li><strong>URL</strong>: Uniform Resource Locator<ul>
<li>å…·æœ‰æœ‰é—œè³‡æºä½ç½®çš„ç›¸é—œè³‡è¨Š</li>
</ul>
</li>
</ul>
</li>
<li>ä½ å°JAX-RSçš„ç†è§£æ˜¯ç”šéº¼?<ul>
<li>JAX-RS&#x3D; Java API for RESRful Web Service</li>
</ul>
</li>
<li>å¯ä»¥è¬›ä¸€äº›ä½ çŸ¥é“å¸¸è¦‹çš„HTTP Status Codeå—?<ul>
<li>1xx - ä»£è¡¨è³‡è¨Šå›è¦† (é€™å•¥?</li>
<li>2xx - ä»£è¡¨æˆåŠŸå›æ‡‰</li>
<li>3xx - ä»£è¡¨é‡æ–°å°å‘</li>
<li>4xx - ä»£è¡¨clientå‡ºéŒ¯</li>
<li>5xx - ä»£è¡¨serverå‡ºéŒ¯</li>
<li>200 ok</li>
<li>201- CREATED ç”¨åœ¨PUTæˆ–POST</li>
<li>304-NOT MODIFIED - ç”¨æ–¼æœ‰æ¢ä»¶çš„GETè«‹æ±‚ï¼Œä»¥æ¸›å°‘ç¶²è·¯é »å¯¬ä½¿ç”¨ï¼Œé€™å€‹responseçš„bodyè¦æ˜¯ç©ºçš„</li>
<li>400-BAD REQUEST -é©—è­‰éŒ¯èª¤æˆ–ç¼ºå°‘è³‡æ–™</li>
<li>401-UNAUTHORIZED - è«‹æ±‚ä¸­æ²’æœ‰åŒ…å«æœ‰æ•ˆèº«åˆ†èªè­‰è³‡è¨Š</li>
<li>403-FORBIDDEN - ç„¡æ¬Šæˆ–ç¦æ­¢å­˜å–è³‡æº</li>
<li>404-NOT FOUND - è³‡æºæ–¹æ³•ä¸å¯ç”¨</li>
<li>500-INTERNAL SERVER ERROR- ç•¶Serveråœ¨é‹è¡Œæ™‚è·³å‡ºä¸€äº›ç•°å¸¸</li>
<li>502-BAD GATEWAY - Serverç„¡æ³•å¾å…¶ä»–Serverä¸­ç²å¾—response</li>
</ul>
</li>
<li>å¯ä»¥è¬›ä¸€äº›ä½ çŸ¥é“å¸¸è¦‹çš„HTTP Methodså—?<br>  <img src="https://i.imgur.com/PBaFMYj.png"><ul>
<li>GET: å¾Serverä¸­æ“·å–è³‡è¨Šï¼Œä¸€ç¨®å”¯è®€çš„æ“ä½œ</li>
<li>POST: ç”¨ä¾†åœ¨serverä¸­å»ºç«‹è³‡æº</li>
<li>PUT: ç”¨ä¾†åœ¨serverä¸­æ›´æ–°ç¾æœ‰è³‡æºæˆ–å–ä»£è³‡æº</li>
<li>DELETE: ç”¨ä¾†åœ¨serverä¸­åˆªé™¤è³‡æº</li>
<li>OPTIONS: å¯ç²å–serverä¸Šç¾æœ‰è³‡æºçš„æ”¯æ´é¸é …æ¸…å–®</li>
<li>HEAD: èˆ‡Getç›¸åŒï¼Œä½†åªå‚³é€ç‹€æ…‹è¡Œä»¥åŠHeaderéƒ¨åˆ†</li>
</ul>
</li>
<li>SOAPä»¥åŠRESTä¹‹é–“çš„å·®ç•°æ˜¯ç”šéº¼?</li>
</ul>
<table>
<thead>
<tr>
<th>SOAP</th>
<th>REST</th>
</tr>
</thead>
<tbody><tr>
<td>Simple Object Access Protocol</td>
<td>Representatioanl State Transfer</td>
</tr>
<tr>
<td>ç”¨ä¾†å¯¦è¸webæœå‹™çš„å”å®š</td>
<td>æ˜¯ä¸€ç¨®webçš„æ¶æ§‹è¨­è¨ˆé¢¨æ ¼</td>
</tr>
<tr>
<td>SOAPç„¡æ³•ä½¿ç”¨REST</td>
<td>RESTå¯ä½¿ç”¨SOAPä½œç‚ºå¯¦è¸çš„ä¸€éƒ¨åˆ†</td>
</tr>
<tr>
<td>æœ‰åš´æ ¼æ¨™æº–</td>
<td>ä¸é ˆåš´æ ¼éµå®ˆ</td>
</tr>
<tr>
<td>client serveræ›´åŠ è€¦åˆ</td>
<td>REST Clientéˆæ´»ï¼Œä¸ä¾è³´Serveré–‹ç™¼æ–¹å¼</td>
</tr>
<tr>
<td>åƒ…æ”¯æ´XML</td>
<td>æ”¯æ´XML,JSON,MIME,Textç­‰</td>
</tr>
<tr>
<td>SOAPä½¿ç”¨æœå‹™ä»‹é¢ä¾†å…¬é–‹è³‡æº</td>
<td>ä½¿ç”¨URIä¾†é–‹æ”¾è³‡æº</td>
</tr>
<tr>
<td>ä½œç‚ºä¸€ç¨®å”å®šï¼Œå®ƒå®šç¾©äº†è‡ªå·±çš„å®‰å…¨æªæ–½</td>
<td>åƒ…æ ¹æ“šå®ƒç”¨æ–¼å¯¦ç¾çš„å”è­°ç¹¼æ‰¿å®‰å…¨æªæ–½</td>
</tr>
</tbody></table>
<ul>
<li>é–‹ç™¼RESTful web æœå‹™çš„Best Practiceæœƒæ˜¯ç”šéº¼?<ul>
<li>é–‹ç™¼REST APIä¸¦ç›¡å¯èƒ½ä½¿ç”¨JSONè³‡æ–™æ ¼å¼ä¸¦é€²è¡Œè³‡æ–™çš„æ¥æ”¶èˆ‡å›è¦†ï¼Œå› ç‚ºå¤§å¤šæ•¸clientèˆ‡serverä¹‹é–“éƒ½å…§ç½®äº†è¼•é¬†è®€å–èˆ‡è§£æJSONç‰©ä»¶çš„æ–¹å¼<ul>
<li>æ‡‰ç”¨ç¨‹å¼ä»¥JSONæ ¼å¼ä½œç‚ºResponseæ‡‰è¦å°‡Content-Typeè¨­ç‚ºapplication&#x2F;json</li>
<li>æŸäº›HTTP Clientç«¯æœƒå»å¯Ÿçœ‹Response Headerçš„å€¼ä¾†å»åšè§£æ</li>
<li>resquest headerä¸­çš„Content-Type:è¦è¨­æˆapplication&#x2F;json</li>
</ul>
</li>
<li><strong>åœ¨å‘½åè³‡æºendpointçš„æ™‚å€™æ‡‰è©²ä½¿ç”¨è¤‡æ•¸åè©ï¼Œè€Œä¸æ˜¯å‹•è©ï¼ŒAPI Endpointæ‡‰è¦ç°¡çŸ­ã€æ˜“æ–¼ç†è§£</strong><ul>
<li>ä¸ç”¨å‹•è©æ˜¯å› ç‚ºHTTP Methodä¸­å·²ç¶“æè¿°äº†è«‹æ±‚è¡Œç‚ºç‚ºä½•äº†</li>
<li>å¸¸ç”¨çš„HTTP Verb&#x2F;Methods: GETã€POSTã€PUTã€DELETE</li>
</ul>
</li>
<li>ä½¿ç”¨nestingä¾†è¡¨ç¤ºè³‡æºçš„å±¤æ¬¡çµæ§‹<ul>
<li>ex. GET for URI: &#x2F;authors&#x2F;:id&#x2F;address</li>
<li>åˆ¥å¤ªå¤šå±¤</li>
</ul>
</li>
<li>éŒ¯èª¤è™•ç†æ‡‰é€éè¿”å›æ‡‰ç”¨ç¨‹å¼é©ç•¶çš„error codeä¾†è™•ç†ï¼ŒRESTä¸­ä¹Ÿå®šç¾©äº†é©ç•¶çš„HTTP Status Codeå¯æ ¹æ“šä¸åŒå ´æ™¯ä¾†ä¸€èµ·ç™¼é€<ul>
<li>error codeè¦æ­é…é©ç•¶éŒ¯èª¤è¨Šæ¯ï¼Œå¹«åŠ©é–‹ç™¼äººå“¡ç³¾æ­£æªæ–½ï¼Œä½†åˆ¥å¤ªè©³ç´°é˜²æ­¢é§­å®¢çŸ¥é“å¤ªå¤š</li>
<li>400-Bad Request</li>
<li>401-Unauthorized</li>
<li>403-Forbidden</li>
<li>404-Not Found</li>
<li>500-Internal Server Error</li>
<li>502-Bad Gateway</li>
<li>503-Service Unavailable</li>
</ul>
</li>
</ul>
</li>
<li>ä½ äº†è§£å“ªäº›åˆ†æ•£å¼ç³»çµ±æ¶æ§‹?<ul>
<li>æˆ‘çŸ¥é“ç”¨ä¾†maintainä»¥åŠé‹è¡Œåˆ†æ•£æ˜¯ç³»çµ±çš„æŠ€è¡“ï¼Œå°±Kubernetes</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://searchapparchitecture.techtarget.com/definition/software-stack">é‚£ç”šéº¼æ˜¯Software Stack?</a><br>  <img src="https://i.imgur.com/NOpfrAK.png"><ul>
<li>æ˜¯ä¸€å †ç¨ç«‹çµ„ä»¶çš„é›†åˆï¼Œä»–å€‘å”åŒå·¥ä½œä¾†å®Œæˆæ‡‰ç”¨ç¨‹å¼çš„åŸ·è¡Œ</li>
<li>é€™äº›çµ„ä»¶å¯èƒ½åŒ…å«:OSã€å”å®šã€runtimeç’°å¢ƒã€Libraryã€DBå’ŒFunction Call</li>
<li>æ ¹æ“šæ‰€éœ€é‹è¡Œçš„æ‡‰ç”¨ç¨‹å¼ï¼Œè‡³å°‘æœƒæ˜¯OSã€DBã€æ”¯æ´ç·¨å¯«ç¨‹å¼çš„å·¥å…·å’Œæ‡‰ç”¨ç¨‹å¼</li>
</ul>
</li>
<li>é‚£ç”šéº¼æ˜¯Solution Stack?<ul>
<li>è¦é–‹ç™¼ä¸€æ¬¾ç¶²è·¯æ‡‰ç”¨ç¨‹å¼ï¼Œæœƒéœ€è¦å®šç¾©ç›®æ¨™OSã€ç¶²é serverã€DBä»¥åŠèªè¨€</li>
<li>æˆ–è¦å®šç¾©OSã€Middlewareã€DBåŠæ‡‰ç”¨ç¨‹å¼ï¼Œæœ‰æ™‚ä¹Ÿæœƒå°‡ç¡¬é«”æ¶µè“‹åœ¨å…§</li>
<li>èˆ‰ä¾‹:<ul>
<li>BCHS<ul>
<li>OpenBSD</li>
<li>C</li>
<li>httpd</li>
<li>SQLite</li>
</ul>
</li>
<li>ELK<ul>
<li>Elasticsearch</li>
<li>Logstash</li>
<li>Kibana</li>
</ul>
</li>
<li>Ganeti<ul>
<li>Xenæˆ–KVM</li>
<li>æ­é…LVMçš„Linux</li>
<li>DRBD</li>
<li>Ganeti</li>
<li>Ganeti Web Manager</li>
</ul>
</li>
<li>LAMP<ul>
<li>Linux</li>
<li>Apache</li>
<li>MySQL&#x2F;MariaDB</li>
<li>Perlã€PHPã€Python</li>
</ul>
</li>
<li>LAPP<ul>
<li>Linux</li>
<li>Apache</li>
<li>PostgreSQL</li>
<li>Perlã€PHPã€Python</li>
</ul>
</li>
<li>LLMP<ul>
<li>Linux</li>
<li>Lighttpd</li>
<li>MySQL&#x2F;MariaDB</li>
<li>Perlã€PHPã€Python</li>
</ul>
</li>
<li>MEAN<ul>
<li>MongoDB</li>
<li>Express.js</li>
<li>Angular.js</li>
<li>Node.js</li>
</ul>
</li>
<li>MERN<ul>
<li>MongoDB</li>
<li>Express.js</li>
<li>React.js</li>
<li>Node.js</li>
</ul>
</li>
<li>MEVN<ul>
<li>MongoDB</li>
<li>Express.js</li>
<li>Vue.js</li>
<li>Node.js</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Apache-Troubleshooting"><a href="#Apache-Troubleshooting" class="headerlink" title="Apache Troubleshooting"></a><a target="_blank" rel="noopener" href="https://www.acunetix.com/websitesecurity/troubleshooting-tips-for-apache/">Apache Troubleshooting</a></h2><h3 id="httpd-conf-è¨­å®šéŒ¯èª¤"><a href="#httpd-conf-è¨­å®šéŒ¯èª¤" class="headerlink" title="httpd.conf è¨­å®šéŒ¯èª¤"></a>httpd.conf è¨­å®šéŒ¯èª¤</h3><ul>
<li>Syntax Error<ul>
<li>Linuxä¸Šéœ€ä½¿ç”¨ <code>apachectl -configtest</code>ä¾†æª¢æ¸¬Syntax Error</li>
<li>Windowsç³»çµ±ä¸Šçš„Apacheé ˆå…ˆåˆ°Apacheçš„binç›®éŒ„ä¸Šï¼Œç„¶å¾ŒåŸ·è¡Œ <code>httpd.exe -t</code></li>
<li>ä¿®æ­£å•é¡Œå¾Œé‡å•ŸApacheä¸¦é‡æ–°é€éä¸Šè¿°æŒ‡ä»¤åšæª¢æŸ¥</li>
</ul>
</li>
</ul>
<h3 id="Vulenrabilities"><a href="#Vulenrabilities" class="headerlink" title="Vulenrabilities"></a>Vulenrabilities</h3><ul>
<li>ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„Apache</li>
<li>ä½¿ç”¨å¼±æƒå·¥å…·å»æª¢æŸ¥</li>
<li>éš¨æ™‚æŸ¥çœ‹æœ€æ–°çš„CVEï¼Œä¸¦ä¸ŠPatch</li>
</ul>
<h3 id="Apache-HTTP-Server-Logs"><a href="#Apache-HTTP-Server-Logs" class="headerlink" title="Apache HTTP Server Logs"></a>Apache HTTP Server Logs</h3><p>æ‡‰åˆ†æApache HTTP Serverä¸­çš„<strong>error logs</strong>ï¼Œ<strong>å®ƒæä¾›äº†æœ‰é—œ Web æœå‹™å™¨ä¸Šç™¼ç”Ÿçš„ä»»ä½•éŒ¯èª¤çš„è©³ç´°è³‡è¨Š</strong> è·¯å¾‘: <code> /var/log/apache2/error.log</code>ã€<code>/etc/apache2/apache2.conf</code>ã€<code>/etc/httpd/conf/httpd.conf</code></p>
<p>é è¨­æœƒæ”¾åœ¨Apacheå®‰è£ç›®éŒ„ä¸­çš„logç›®éŒ„ä¸­çš„<strong>error_log</strong>æª”æ¡ˆä¸­<br>ä¹Ÿå¯å¾httpd.confä¸­å»è¨­å®šè¦ç´€éŒ„å“ªä¸€é¡å‹çš„éŒ¯èª¤ï¼Œhttpd.confä¸­æœ‰8å€‹logç´šåˆ¥çš„è³‡è¨Š<br>é™¤äº†error logä»¥å¤–é‚„æä¾›access logä¾†ç´€éŒ„Serverè™•ç†éçš„æ‰€æœ‰è«‹æ±‚ã€‚<br>é€™äº›æ—¥èªŒé‚„å¯ä»¥å°å¯èƒ½å°è‡´å•é¡Œçš„åŸå› æä¾›é¡å¤–çš„è§£é‡‹ï¼Œé‚„å¯ä»¥è£œå……éŒ¯èª¤æ—¥èªŒä¸­çš„è³‡è¨Šã€‚</p>
<h3 id="ä½¿ç”¨Mod-log-forensic-æ¨¡çµ„"><a href="#ä½¿ç”¨Mod-log-forensic-æ¨¡çµ„" class="headerlink" title="ä½¿ç”¨Mod_log_forensic æ¨¡çµ„"></a>ä½¿ç”¨Mod_log_forensic æ¨¡çµ„</h3><p><code>mod_log_forensic</code>æ¨¡çµ„ç”¨æ–¼æä¾›clientç«¯è«‹æ±‚çš„<strong>forensic log</strong><br>é€™åŒ…å«äº†è™•ç†å‰èˆ‡è™•ç†å¾Œçš„è«‹æ±‚ï¼Œä¸¦ä½¿ç”¨ç›¸åŒIDä¾†å¼•ç”¨ç›¸åŒçš„è«‹æ±‚ï¼Œå› æ­¤å¯ä»¥è¼•é¬†è­˜åˆ¥ç”±ç‰¹å®šè«‹æ±‚å¼•ç™¼çš„ä»»ä½•å•é¡Œ<br><strong>å¯ä»¥ç”¨ä¾†åˆ†æå“ªäº›è«‹æ±‚æœƒå°è‡´Web Serverå´©æ½°</strong><br>è‹¥è¦å•Ÿç”¨é€™å€‹æ¨¡çµ„ï¼Œéœ€è¦åœ¨ <code>Apache httpd.conf</code>æ–‡ä»¶ä¸­è¨­å®š:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LoadModule log_forensic_module_forensic.so</span><br><span class="line">LoadModule uniques_id_module modules/mod_unique_id.so</span><br><span class="line">ForensicLog logs/forensic_log</span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯å°‡ <strong>check_forensic</strong>çš„bashè…³æœ¬èˆ‡ mod_log_forensicæ¨¡çµ„çµåˆä½¿ç”¨ï¼Œä»¥åˆ—å‡ºåœ¨forensic logä¸­ç™¼ç¾ä»»ä½•ä¸å®Œæ•´çš„è«‹æ±‚<br><code>check_forensic &lt;log_file&gt;</code></p>
<h3 id="ä½¿ç”¨-mod-whatkilledus-module"><a href="#ä½¿ç”¨-mod-whatkilledus-module" class="headerlink" title="ä½¿ç”¨ mod_whatkilledus module"></a>ä½¿ç”¨ mod_whatkilledus module</h3><p>ç•¶äº‹æƒ…éå¸¸ç³Ÿç³•ä¸”Apache Serverå´©æ½°æ™‚ï¼Œ<code>mod_whatkilledus</code>æ¨¡çµ„å¯ç”¨æ–¼ç´€éŒ„æœ‰é—œå´©æ½°çš„è©³ç´°æŠ€è¡“è³‡è¨Šä»¥åŠå°è‡´ç™¼ç”Ÿcrashçš„åŸå§‹clientç«¯è«‹æ±‚ã€‚</p>
<p>æ­¤å¤–è‹¥å•Ÿç”¨äº† <code>mod_backtrace</code>æ¨¡çµ„ï¼Œé€™å°‡åŒ…å«é¡¯ç¤ºæ•…éšœé»çš„å›æº¯ï¼Œé€™å°æ–¼åœ¨æ»¿è¶³æŸäº›æ¢ä»¶å¾Œä½¿ç”¨å›æº¯è¨»é‡‹éŒ¯èª¤æ—¥èªŒå¾ˆæœ‰ç”¨</p>
<p>å°æ–¼Unixç³»çµ±ï¼Œåªæœ‰åœ¨ httpdå»ºæ§‹ä¸­å•Ÿç”¨äº† <code>--enable-exception-hook</code> åƒæ•¸æ™‚ï¼Œé€™äº›æ¨¡çµ„æ‰æœƒèµ·ä½œç”¨ã€‚è€Œå°æ–¼Windowsç³»çµ±å‰‡æ²’æœ‰ç‰¹æ®Šè¦æ±‚</p>
<ul>
<li><code>mode_whatkilledus</code> ä»¥åŠ <code>mod_backtrace</code> çš„èªªæ˜æ–‡ä»¶: <a target="_blank" rel="noopener" href="https://emptyhammock.com/projects/httpd/diag/quick-start.html">https://emptyhammock.com/projects/httpd/diag/quick-start.html</a></li>
</ul>
<h3 id="ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡çµ„"><a href="#ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡çµ„" class="headerlink" title="ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡çµ„"></a>ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡çµ„</h3><p>ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡çµ„å¯èƒ½æœƒå°è‡´åœ¨å®‰è£Apache HTTP Serveræ™‚é‡åˆ°å•é¡Œ<br>å› æ­¤æ‡‰è©²ç¦ç”¨ç¬¬ä¸‰æ–¹æ¨¡çµ„ï¼Œä¸¦æª¢æŸ¥å•é¡Œæ˜¯å¦å¯ä»¥é‡ç¾ï¼Œè‹¥ç¦ç”¨æ¨¡çµ„å¯ä»¥è§£æ±ºå•é¡Œå‰‡ä¸€å€‹ä¸€å€‹é‡èµ·æ¯å€‹æ¨¡çµ„ï¼Œä»¥ä¾¿ç¢ºå®šæ˜¯å“ªå€‹æ¨¡çµ„å¸¶ä¾†çš„åŸå› </p>
<h3 id="å°‡Apache-HTTP-Serveråšç‚ºå–®ä¸€processä¸¦ä½¿ç”¨Debugå·¥å…·"><a href="#å°‡Apache-HTTP-Serveråšç‚ºå–®ä¸€processä¸¦ä½¿ç”¨Debugå·¥å…·" class="headerlink" title="å°‡Apache HTTP Serveråšç‚ºå–®ä¸€processä¸¦ä½¿ç”¨Debugå·¥å…·"></a>å°‡Apache HTTP Serveråšç‚ºå–®ä¸€processä¸¦ä½¿ç”¨Debugå·¥å…·</h3><p>å…¸å‹çš„Apache HTTP Serverå®‰è£æœƒé‹è¡Œå¤šå€‹process<br>ä½†å¦‚æœè¦troubleshootingæœ€å¥½æ˜¯ä»¥å–®ä¸€processé‹è¡Œ<br>å¯åœ¨å•Ÿå‹•apacheæ™‚å€™ä½¿ç”¨Xé¸é …<br><code>$ httpd -X</code> é€™å¯ä½¿Apacheä»¥å–®ä¸€processæ¨¡å¼ä¾†å•Ÿå‹•ï¼Œé€™ä»£è¡¨Apacheä¸æœƒå»forkå‡ºæ–°çš„chidrenæˆ–èˆ‡çµ‚ç«¯detach<br>é€™æ¨£æ‰€æœ‰æµé‡èˆ‡é€šè¨Šéƒ½å°‡é€šéä¸€å€‹å–®ä¸€çš„processï¼Œå°±èƒ½åœ¨debugger(ex. gdb)åº•ä¸‹é‹è¡Œapache httpdä¸¦å–å¾—å´©æ½°çš„bracktaceä¸¦å¼·åˆ¶serverå»è¡Œcoredump</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gdb httpd</span><br></pre></td></tr></table></figure>
<p>æ¥è‘—å°±æ˜¯é€égdbå…ˆå»è¨­breakpointï¼Œç„¶å¾Œå»åšå–®æ­¥è¿½è¹¤ï¼Œä¸€è¡Œä¸€è¡Œçœ‹å¯èƒ½éŒ¯åœ¨å“ª?</p>
<h3 id="è…³æœ¬åŸ·è¡Œå•é¡Œ"><a href="#è…³æœ¬åŸ·è¡Œå•é¡Œ" class="headerlink" title="è…³æœ¬åŸ·è¡Œå•é¡Œ"></a>è…³æœ¬åŸ·è¡Œå•é¡Œ</h3><p>å‹•æ…‹å…§å®¹é€šå¸¸ç”± Apache HTTP Serveré€šé <code>mod_cgi</code>æ¨¡çµ„åŸ·è¡Œçš„è…³æœ¬æä¾›<br>é€™å€‹æ¨¡çµ„åŒ…å«è‡ªå·±çš„loggingæ©Ÿåˆ¶ç”¨ä¾†è¨˜éŒ„åœ¨è…³æœ¬åŸ·è¡ŒæœŸé–“ç™¼ç”Ÿçš„ä»»ä½•éŒ¯èª¤</p>
<p>å•Ÿç”¨<strong>ScriptLog</strong>æŒ‡ä»¤å¾Œï¼Œmod_cgiå°‡è¨˜éŒ„ä»»ä½•æœªæŒ‰ç…§é æœŸåŸ·è¡Œçš„è…³æœ¬çš„è¼¸å‡ºï¼ŒåŒ…å«<br>Server Response Codeï¼Œæ”¶åˆ°çš„è«‹æ±‚ä»¥åŠä»»ä½•å‘å®¢æˆ¶ç«¯ç™¼å‡ºçš„ä»»ä½•å›æ‡‰</p>
<p>è¦å•Ÿç”¨æ­¤åŠŸèƒ½éœ€è¦ä¿®æ”¹ httpd.confæ–‡ä»¶ï¼Œä¸¦æŒ‡å®šScriptLogæŒ‡ä»¤å’Œä¿å­˜logçš„ä½ç½®<br><code>ScriptLog logs/cgi_log</code></p>
<h2 id="IIS-Troubleshooting"><a href="#IIS-Troubleshooting" class="headerlink" title="IIS Troubleshooting"></a><a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/previous-versions/iis/6.0-sdk/ms524996(v=vs.90)">IIS Troubleshooting</a></h2><h2 id="Serverç«¯å®‰å…¨"><a href="#Serverç«¯å®‰å…¨" class="headerlink" title="Serverç«¯å®‰å…¨"></a>Serverç«¯å®‰å…¨</h2><ul>
<li>Serverç«¯æœ‰ç”šéº¼å®‰å…¨å»ºè­°?<ul>
<li>ç§»é™¤ä¸å¿…è¦æœå‹™<ul>
<li>é»˜èªå®‰è£æœ‰æ™‚å€™æœƒå®‰è£è¨±å¤šä¸å¿…è¦çš„åŠŸèƒ½ex. é ç«¯è¨»å†Šã€printer serverâ€¦etc</li>
<li>æœå‹™è¶Šå¤šï¼Œé–‹æ”¾çš„portå°±è¶Šå¤šï¼Œå› æ­¤æœƒæš´éœ²æ›´å¤šé¢¨éšª</li>
<li>é—œé–‰serverä¸­çš„éå¿…è¦æœå‹™</li>
</ul>
</li>
<li>ç¢ºä¿é ç«¯å­˜å–çš„ä¿è­·æªæ–½<ul>
<li>è‹¥web adminéœ€è¦é ç«¯ç™»å…¥Web serverï¼Œå‰‡éœ€è¦ä½¿ç”¨éš§é“å’ŒåŠ å¯†å”å®šä¾†ç¢ºä¿é ç¨‹é€£ç·šç²å¾—é©ç•¶é˜²è­· </li>
<li>åœ¨è¨­å‚™æˆ–è»Ÿé«”ä¸Šä½¿ç”¨å®‰å…¨token </li>
<li>é ç«¯å­˜å–æ‡‰é™åˆ¶ç‰¹å®šæ•¸é‡IPä»¥åŠå¸³æˆ¶</li>
</ul>
</li>
<li>åˆ†é›¢é–‹ç™¼&#x2F;æ¸¬è©¦&#x2F;ç”Ÿç”¢ç’°å¢ƒ<ul>
<li>ç”±æ–¼é–‹ç™¼äººå“¡åœ¨ç”Ÿç”¢æœå‹™å™¨ä¸Šé–‹ç™¼æ›´æ–°ç‰ˆæœ¬çš„ Web æ‡‰ç”¨ç¨‹åºæ›´å®¹æ˜“ã€æ›´å¿«æ·ï¼Œå› æ­¤ Web æ‡‰ç”¨ç¨‹åºçš„é–‹ç™¼å’Œæ¸¬è©¦ç›´æ¥åœ¨ç”Ÿç”¢æœå‹™å™¨æœ¬èº«ä¸Šå®Œæˆæ˜¯å¾ˆå¸¸è¦‹çš„ã€‚</li>
<li>æœ‰å¯èƒ½æœƒåœ¨ç¶²è·¯ä¸Šè’åˆ°ç‰¹å®šç¶²ç«™çš„æ›´æ–°ç‰ˆæœ¬ï¼Œæˆ–åœ¨&#x2F;test&#x2F;ã€&#x2F;new&#x2F;æˆ–å…¶ä»–é¡ä¼¼å­ç›®éŒ„åº•ä¸‹ç™¼ç¾ä¸æ‡‰è©²çµ¦å…¬çœ¾çŸ¥é“çš„å…§å®¹ </li>
<li>æ‰€ä»¥å¦‚æœåœ¨åŒå°Serverä¸ŠåŒæ™‚é–‹ç™¼ã€æ¸¬è©¦è·Ÿç”Ÿç”¢ï¼Œå¦‚æœæ¬Šé™æ²’è¨­å¥½è€Œä¸”æ—©æœŸé–‹ç™¼éšæ®µå®‰å…¨æ€§å®¹æ˜“æ²’åšå¥½ï¼Œå®¹æ˜“è¢«æ‰“ç©¿ç¶²ç«™</li>
</ul>
</li>
<li>Webæ‡‰ç”¨å…§å®¹ä»¥åŠServer Scriptå®‰å…¨<ul>
<li>webæ‡‰ç”¨æˆ–ç¶²ç«™æ–‡ä»¶æ‡‰è©²è¦ä½æ–¼OSç³»çµ±æ–‡ä»¶ã€logæ–‡ä»¶ä»¥å¤–çš„ç¨ç«‹åˆ†å€æˆ–driverä¸Š</li>
<li>å› ç‚ºå¦‚æœæ”»æ“Šè€…ç²å¾—webç›®éŒ„å­˜å–æ¬Šé™ï¼Œå¯èƒ½å°±å¯ä»¥é€éå…¶ä»–æ¼æ´å»åšææ¬Šä¸¦å­˜å–æ•´å€‹ç£ç¢Ÿä¸Šçš„è³‡æ–™</li>
</ul>
</li>
<li>ç¢ºä¿é©ç•¶æ¬Šé™èˆ‡ç‰¹æ¬Š<ul>
<li>å§‹çµ‚åˆ†é…é‹è¡Œç‰¹å®šç¶²è·¯æœå‹™æ‰€éœ€çš„æœ€æ¬Šé™</li>
</ul>
</li>
<li>æŒ‰æ™‚å®‰è£æ‰€æœ‰patch</li>
<li>ç›£æ§æˆ–audit server <ul>
<li>æ‡‰ç¶“å¸¸ç›£æ§å’Œæª¢æŸ¥æ‰€æœ‰ç¶²è·¯æœå‹™logã€ç¶²ç«™access logã€DB Server log(ex. Microsoft SQL Serverã€MySQLã€Oracle)å’ŒOS Log</li>
<li>è‹¥logä¸­ç™¼ç¾å¥‡æ€ªæ´»å‹•ï¼Œæ‡‰è©²ç«‹åˆ»å»è§£æ±ºå®ƒ</li>
</ul>
</li>
<li>ç”¨æˆ¶å¸³æˆ¶ç®¡ç†<ul>
<li>ç¦ç”¨æœªä½¿ç”¨çš„é»˜èªå¸³æˆ¶<ul>
<li><code>userdel</code> æŒ‡ä»¤</li>
</ul>
</li>
<li>æ¯å€‹å¸³æˆ¶è¦è¨­å®šå®ƒæ‡‰æœ‰çš„æ­£ç¢ºæ¬Šé™</li>
</ul>
</li>
<li>åˆªé™¤æœªä½¿ç”¨çš„æ¨¡çµ„å’Œæ‡‰ç”¨ç¨‹å¼<ul>
<li>Apacheé è¨­æœƒå®‰è£å¤šé å®šç¾©çš„æ¨¡çµ„ </li>
<li>å…¸å‹Web Serverä¸æœƒä½¿ç”¨é€™äº›æ¨¡çµ„ï¼Œå› æ­¤éœ€è¦é—œé–‰ï¼Œé˜²æ­¢é‡å°æ­¤é¡æ¨¡çµ„çš„æ”»æ“Š</li>
</ul>
</li>
<li>ä½¿ç”¨Network Severè»Ÿé«”æ‰€æä¾›çš„å®‰å…¨å·¥å…·<ul>
<li>Mircosoft ç™¼å¸ƒè¨±å¤šå·¥å…·ä¾†å¹«åŠ©adminä¾†ä¿è­·IIS Web Serverå®‰è£</li>
<li>Apacheä¹Ÿæœ‰æä¾› <strong>mod_security</strong>æ¨¡çµ„</li>
</ul>
</li>
<li>ä½¿ç”¨å¤–éƒ¨scanner<ul>
<li>nessus</li>
<li>nikto</li>
<li>æˆ–å…¶ä»–å¼±æƒå·¥å…·</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="Logæª”æ¡ˆ"><a href="#Logæª”æ¡ˆ" class="headerlink" title="Logæª”æ¡ˆ"></a>Logæª”æ¡ˆ</h2><p>ç³»çµ±éŒ¯èª¤è³‡è¨Š - <code>/var/logs/syslog</code> æˆ– <code>/var/logs/messages</code><br>èˆ‡ç™»å…¥å¸³å¯†æœ‰é—œçš„log - <code>/var/logs/secure</code> æˆ– <code>/var/logs/auth.loh</code>(Debian)<br>ç´€éŒ„å“ªå€‹æœå‹™çš„logæœƒè¢«æ”¾åœ¨å“ª? - <code>/etc/rsyslog.conf</code>ï¼Œæœƒè¢«æ”¾åœ¨<code>/etc/rsyslog.d</code> åº•ä¸‹</p>
<h3 id="Syslogç­‰ç´š"><a href="#Syslogç­‰ç´š" class="headerlink" title="Syslogç­‰ç´š"></a>Syslogç­‰ç´š</h3><p><img src="https://i.imgur.com/GxaNR3I.png"></p>
<h3 id="Systemcall"><a href="#Systemcall" class="headerlink" title="Systemcall"></a>Systemcall</h3><h2 id="C-x2F-C"><a href="#C-x2F-C" class="headerlink" title="C&#x2F;C++"></a>C&#x2F;C++</h2><ul>
<li>å¦‚æœç¨‹å¼ä¸­ä½¿ç”¨mallocä½†æ²’æœ‰freeæ‰æœƒæ€æ¨£?<ul>
<li>heap memoryæœƒä¸€ç›´è¢«å è‘—ï¼Œç›´åˆ°ç¨‹å¼çµæŸï¼Œä¸æœƒè‡ªå‹•é‡‹æ”¾</li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="https://leozzmc.github.io">Kevin Liu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é€£çµ: </span><span class="post-copyright-info"><a href="https://leozzmc.github.io/posts/5728fae1.html">https://leozzmc.github.io/posts/5728fae1.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæ¬Šè²æ˜: </span><span class="post-copyright-info">æœ¬éƒ¨è½æ ¼æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ¥è²æ˜å¤–ï¼Œå‡æ¡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è¨±å¯å”è­°ã€‚è½‰è¼‰è«‹è¨»æ˜ä¾†è‡ª <a href="https://leozzmc.github.io" target="_blank">Kevin Liu's éƒ¨è½æ ¼ || Technical || Travel</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Network/">Network</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/Web/">Web</a></div><div class="post_share"><div class="social-share" data-image="/img/me.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/de3933f9.html" title="Security policies definition and enforcement utilizing policy control function framework in 5G"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Security policies definition and enforcement utilizing policy control function framework in 5G</div></div></a></div><div class="next-post pull-right"><a href="/posts/8ec27a58.html" title="å¯¦ç¿’ç­†è¨˜-æ»²é€æ¸¬è©¦èª²ç¨‹"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">å¯¦ç¿’ç­†è¨˜-æ»²é€æ¸¬è©¦èª²ç¨‹</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸é—œæ¨è–¦</span></div><div class="relatedPosts-list"><div><a href="/posts/a05f1769.html" title="ğŸ§ªç­†è¨˜- 5G æ ¸å¿ƒç¶²è·¯-ç§»å‹•æ€§ç®¡ç†(Mobile Management)"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-10</div><div class="title">ğŸ§ªç­†è¨˜- 5G æ ¸å¿ƒç¶²è·¯-ç§»å‹•æ€§ç®¡ç†(Mobile Management)</div></div></a></div><div><a href="/posts/3d68fc76.html" title="ğŸ§ªç­†è¨˜- 5G ç¶²è·¯åŠŸèƒ½ä»‹é¢èˆ‡å”å®šå †ç–Š"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-10</div><div class="title">ğŸ§ªç­†è¨˜- 5G ç¶²è·¯åŠŸèƒ½ä»‹é¢èˆ‡å”å®šå †ç–Š</div></div></a></div><div><a href="/posts/dd26b396.html" title="ğŸ§ªç­†è¨˜-5Gé–‹æºè³‡æºæ•´ç†"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-20</div><div class="title">ğŸ§ªç­†è¨˜-5Gé–‹æºè³‡æºæ•´ç†</div></div></a></div><div><a href="/posts/85fe9be3.html" title="VNF Deployment and Flow Scheduling in Geo-distributed Data Centers"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-25</div><div class="title">VNF Deployment and Flow Scheduling in Geo-distributed Data Centers</div></div></a></div><div><a href="/posts/Buffer_Overflow_Test.html" title="å¯¦é©—ç·©è¡å€æº¢ä½æ¼æ´ (Buffer Overflow)"><img class="cover" src="/img/BOF.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2020-03-11</div><div class="title">å¯¦é©—ç·©è¡å€æº¢ä½æ¼æ´ (Buffer Overflow)</div></div></a></div><div><a href="/posts/dce71546.html" title="DevOpsæŠ€èƒ½æ¨¹çŸ¥è­˜æ•´ç† |ã€ç­†è¨˜ç›®éŒ„ã€‘"><img class="cover" src="/img/devops/cover3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2060-11-05</div><div class="title">DevOpsæŠ€èƒ½æ¨¹çŸ¥è­˜æ•´ç† |ã€ç­†è¨˜ç›®éŒ„ã€‘</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è©•è«–</span></div></div><div class="comment-wrap"><div><div id="utterances-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/me.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Kevin Liu</div><div class="author-info__description">ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">167</div></a><a href="/tags/"><div class="headline">æ¨™ç±¤</div><div class="length-num">111</div></a><a href="/categories/"><div class="headline">åˆ†é¡</div><div class="length-num">9</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/leozzmc"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/leozzmc" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:zzmczzmczzmc870125@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #e0ad5a;"></i></a><a class="social-icon" href="https://www.linkedin.com/in/kevin-liu087" target="_blank" title="LinkedIn"><i class="fa-brands fa-linkedin" style="color: #0373fc;"></i></a><a class="social-icon" href="https://www.youtube.com/channel/UC2AU_vpxPu0oKcgZl3UJSNg" target="_blank" title="Youtube"><i class="fa-brands fa-youtube" style="color: #dc1e1e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">ğŸ›«ğŸ›¬</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®éŒ„</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Network-Debug"><span class="toc-number">1.</span> <span class="toc-text">Network Debug</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-Admin"><span class="toc-number">2.</span> <span class="toc-text">Linux Admin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#app-%E6%AA%A2%E6%B8%AC"><span class="toc-number">3.</span> <span class="toc-text">app æª¢æ¸¬</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Windows-Admin"><span class="toc-number">4.</span> <span class="toc-text">Windows Admin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B6%B2%E9%A0%81%E6%B8%AC%E8%A9%A6"><span class="toc-number">5.</span> <span class="toc-text">ç¶²é æ¸¬è©¦</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RESTFUL-API"><span class="toc-number">6.</span> <span class="toc-text">RESTFUL API</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Apache-Troubleshooting"><span class="toc-number">7.</span> <span class="toc-text">Apache Troubleshooting</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#httpd-conf-%E8%A8%AD%E5%AE%9A%E9%8C%AF%E8%AA%A4"><span class="toc-number">7.1.</span> <span class="toc-text">httpd.conf è¨­å®šéŒ¯èª¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vulenrabilities"><span class="toc-number">7.2.</span> <span class="toc-text">Vulenrabilities</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Apache-HTTP-Server-Logs"><span class="toc-number">7.3.</span> <span class="toc-text">Apache HTTP Server Logs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Mod-log-forensic-%E6%A8%A1%E7%B5%84"><span class="toc-number">7.4.</span> <span class="toc-text">ä½¿ç”¨Mod_log_forensic æ¨¡çµ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-mod-whatkilledus-module"><span class="toc-number">7.5.</span> <span class="toc-text">ä½¿ç”¨ mod_whatkilledus module</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E6%A8%A1%E7%B5%84"><span class="toc-number">7.6.</span> <span class="toc-text">ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡çµ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%87Apache-HTTP-Server%E5%81%9A%E7%82%BA%E5%96%AE%E4%B8%80process%E4%B8%A6%E4%BD%BF%E7%94%A8Debug%E5%B7%A5%E5%85%B7"><span class="toc-number">7.7.</span> <span class="toc-text">å°‡Apache HTTP Serveråšç‚ºå–®ä¸€processä¸¦ä½¿ç”¨Debugå·¥å…·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%85%B3%E6%9C%AC%E5%9F%B7%E8%A1%8C%E5%95%8F%E9%A1%8C"><span class="toc-number">7.8.</span> <span class="toc-text">è…³æœ¬åŸ·è¡Œå•é¡Œ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IIS-Troubleshooting"><span class="toc-number">8.</span> <span class="toc-text">IIS Troubleshooting</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Server%E7%AB%AF%E5%AE%89%E5%85%A8"><span class="toc-number">9.</span> <span class="toc-text">Serverç«¯å®‰å…¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Log%E6%AA%94%E6%A1%88"><span class="toc-number">10.</span> <span class="toc-text">Logæª”æ¡ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Syslog%E7%AD%89%E7%B4%9A"><span class="toc-number">10.1.</span> <span class="toc-text">Syslogç­‰ç´š</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Systemcall"><span class="toc-number">10.2.</span> <span class="toc-text">Systemcall</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-x2F-C"><span class="toc-number">11.</span> <span class="toc-text">C&#x2F;C++</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/posts/d0fc136d.html" title="LeetCode åˆ·é¡ŒçŸ¥è­˜ç¸½æ•´ç†">LeetCode åˆ·é¡ŒçŸ¥è­˜ç¸½æ•´ç†</a><time datetime="2100-11-29T01:08:02.000Z" title="ç™¼è¡¨æ–¼ 2100-11-29 09:08:02">2100-11-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/dce71546.html" title="DevOpsæŠ€èƒ½æ¨¹çŸ¥è­˜æ•´ç† |ã€ç­†è¨˜ç›®éŒ„ã€‘"><img src="/img/devops/cover3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DevOpsæŠ€èƒ½æ¨¹çŸ¥è­˜æ•´ç† |ã€ç­†è¨˜ç›®éŒ„ã€‘"/></a><div class="content"><a class="title" href="/posts/dce71546.html" title="DevOpsæŠ€èƒ½æ¨¹çŸ¥è­˜æ•´ç† |ã€ç­†è¨˜ç›®éŒ„ã€‘">DevOpsæŠ€èƒ½æ¨¹çŸ¥è­˜æ•´ç† |ã€ç­†è¨˜ç›®éŒ„ã€‘</a><time datetime="2060-11-05T13:45:50.000Z" title="ç™¼è¡¨æ–¼ 2060-11-05 21:45:50">2060-11-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/22911275.html" title="Git for DevOps ç­†è¨˜ |ã€DevOpsæŠ€èƒ½æ¨¹ã€‘"><img src="/img/devops/git/cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Git for DevOps ç­†è¨˜ |ã€DevOpsæŠ€èƒ½æ¨¹ã€‘"/></a><div class="content"><a class="title" href="/posts/22911275.html" title="Git for DevOps ç­†è¨˜ |ã€DevOpsæŠ€èƒ½æ¨¹ã€‘">Git for DevOps ç­†è¨˜ |ã€DevOpsæŠ€èƒ½æ¨¹ã€‘</a><time datetime="2025-11-11T03:45:46.000Z" title="ç™¼è¡¨æ–¼ 2025-11-11 11:45:46">2025-11-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/9f0b74f6.html" title="æ’åºé™£åˆ—è½‰æ›æˆ BST | Easy | LeetCode#108. Convert Sorted Array to Binary Search Tree"><img src="/img/LeetCode/108/cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ’åºé™£åˆ—è½‰æ›æˆ BST | Easy | LeetCode#108. Convert Sorted Array to Binary Search Tree"/></a><div class="content"><a class="title" href="/posts/9f0b74f6.html" title="æ’åºé™£åˆ—è½‰æ›æˆ BST | Easy | LeetCode#108. Convert Sorted Array to Binary Search Tree">æ’åºé™£åˆ—è½‰æ›æˆ BST | Easy | LeetCode#108. Convert Sorted Array to Binary Search Tree</a><time datetime="2025-07-06T07:11:00.000Z" title="ç™¼è¡¨æ–¼ 2025-07-06 15:11:00">2025-07-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/6dcce06b.html" title="æ¯æ—¥æº«åº¦ | Medium | LeetCode#739. Daily Temperatures"><img src="/img/LeetCode/739/cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ¯æ—¥æº«åº¦ | Medium | LeetCode#739. Daily Temperatures"/></a><div class="content"><a class="title" href="/posts/6dcce06b.html" title="æ¯æ—¥æº«åº¦ | Medium | LeetCode#739. Daily Temperatures">æ¯æ—¥æº«åº¦ | Medium | LeetCode#739. Daily Temperatures</a><time datetime="2025-04-11T14:13:55.000Z" title="ç™¼è¡¨æ–¼ 2025-04-11 22:13:55">2025-04-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By Kevin Liu</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¡Œ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é–±è®€æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç°¡ç¹è½‰æ›">EN</button><button id="darkmode" type="button" title="æ·ºè‰²å’Œæ·±è‰²æ¨¡å¼è½‰æ›"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å–®æ¬„å’Œé›™æ¬„åˆ‡æ›"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è¨­å®š"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®éŒ„"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´é”è©•è«–"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é ‚éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'dark'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addModeChange('mermaid', runMermaid)

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>function loadUtterances () {
  let ele = document.createElement('script')
  ele.setAttribute('id', 'utterances_comment')
  ele.setAttribute('src', 'https://utteranc.es/client.js')
  ele.setAttribute('repo', 'leozzmc/Blog_Reply')
  ele.setAttribute('issue-term', 'pathname')
  let nowTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'photon-dark' : 'github-light'
  ele.setAttribute('theme', nowTheme)
  ele.setAttribute('crossorigin', 'anonymous')
  ele.setAttribute('async', 'true')
  document.getElementById('utterances-wrap').insertAdjacentElement('afterbegin',ele)
}

function utterancesTheme (theme) {
  const iframe = document.querySelector('.utterances-frame')
  if (iframe) {
    const theme = theme === 'dark' ? 'photon-dark' : 'github-light'
    const message = {
      type: 'set-theme',
      theme: theme
    };
    iframe.contentWindow.postMessage(message, 'https://utteranc.es');
  }
}

btf.addModeChange('utterances', utterancesTheme)

if ('Utterances' === 'Utterances' || !false) {
  if (false) btf.loadComment(document.getElementById('utterances-wrap'), loadUtterances)
  else loadUtterances()
} else {
  function loadOtherComment () {
    loadUtterances()
  }
}</script></div><script data-pjax src="/self/btf.js"></script><script data-pjax src="/self/tw_en.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script data-pjax src="/self/calendar.js"></script><script data-pjax src="/self/languages.js"></script><script id="canvas_nest" defer="defer" color="34,34,34" opacity="0.8" zIndex="-1" count="350" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="ğŸ‘,ğŸ‘¾,ğŸ’Š,ğŸ§ª,ğŸ‘ï¸" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœå°‹</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  è³‡æ–™åº«è¼‰å…¥ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœå°‹æ–‡ç« " type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>